(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.afinity = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      }
      throw TypeError('Uncaught, unspecified "error" event.');
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        len = arguments.length;
        args = new Array(len - 1);
        for (i = 1; i < len; i++)
          args[i - 1] = arguments[i];
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    len = arguments.length;
    args = new Array(len - 1);
    for (i = 1; i < len; i++)
      args[i - 1] = arguments[i];

    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    var m;
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.listenerCount = function(emitter, type) {
  var ret;
  if (!emitter._events || !emitter._events[type])
    ret = 0;
  else if (isFunction(emitter._events[type]))
    ret = 1;
  else
    ret = emitter._events[type].length;
  return ret;
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],2:[function(require,module,exports){
(function (global){

/*
 *
 * Create base object
 *
 */
var $, idCounter;

require('../base/shim');

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

idCounter = 0;

module.exports = function(prototype) {
  var object;
  object = Object.create(prototype);
  object.model = Object.create(prototype.model);
  object.view = Object.create(prototype.view);
  object.controller = Object.create(prototype.controller);
  object._container = Object.create(prototype._container);
  object._events = Object.create(prototype._events);
  object.form = Object.create(prototype.form);
  object._id = idCounter++;
  object._parent = null;
  object._events.data = {};
  object._container.children = {};
  if (prototype.view.$root instanceof jQuery && prototype._template) {
    object.view.$root = $(prototype.view.$root.outerHTML());
  } else {
    object.view.$root = $();
  }
  object._data = {};
  if (prototype._data) {
    $.extend(true, object._data, prototype._data);
  }
  object.model._data = {};
  if (prototype.model._data) {
    $.extend(true, object.model._data, prototype.model._data);
  }
  return object;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../base/shim":7}],3:[function(require,module,exports){
var EventEmitter, Eventify, makeEventObj;

EventEmitter = require('events').EventEmitter;

module.exports = function(obj) {
  var ev, key, method;
  obj = obj || {};
  ev = new Eventify;
  for (key in ev) {
    method = ev[key];
    obj[key] = method;
  }
  return obj;
};

Eventify = (function() {
  function Eventify() {
    this.hub = new EventEmitter;
  }

  Eventify.prototype.on = function(eventName, fn) {
    var event, handler, ref;
    ref = makeEventObj(eventName, fn);
    for (event in ref) {
      handler = ref[event];
      this.hub.on(event, handler);
    }
    return this;
  };

  Eventify.prototype.once = function(eventName, fn) {
    var event, handler, ref;
    ref = makeEventObj(eventName, fn);
    for (event in ref) {
      handler = ref[event];
      this.hub.once(event, handler);
    }
    return this;
  };

  Eventify.prototype.emit = function(eventName, data) {
    var eachData, event, ref;
    ref = makeEventObj(eventName, data);
    for (event in ref) {
      eachData = ref[event];
      this.hub.emit(event, eachData);
    }
    return this;
  };

  Eventify.prototype.trigger = function(eventName, data) {
    return this.emit(eventName, data);
  };

  return Eventify;

})();

makeEventObj = function(eventName, data) {
  var allEvents;
  allEvents = {};
  if (typeof eventName === 'string') {
    allEvents[eventName] = data;
  } else {
    allEvents = eventName;
  }
  return allEvents;
};


},{"events":1}],4:[function(require,module,exports){
(function (global){

/*
 *
 * Launch sequence: Bindings, initializations, etc
 *
 */
var $, util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = require('../util');

module.exports = function(object) {
  var bindEvent, eventStr, events, handler;
  object.model._initData = $.extend({}, object.model._data);
  util.proxyAll(object, object);
  object.view.render();
  bindEvent = function(ev, handler) {
    if (typeof handler === 'function') {
      object.bind(ev, handler);
    }
  };
  for (eventStr in object.controller) {
    events = eventStr.split(',');
    handler = object.controller[eventStr];
    $.each(events, function(i, ev) {
      ev = $.trim(ev);
      bindEvent(ev, handler);
    });
  }
  object.trigger('create');
  return object;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util":22}],5:[function(require,module,exports){
(function (global){

/*
 *
 * Extend base object with MVC from args
 *
 */
var $, bindFormView, prepArgs, util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = require('../util');

require('../util/jquery.util');

module.exports = function(object, args) {
  var $root, arg, prop, viewTag;
  args = prepArgs(args);
  arg = args[0];
  for (prop in arg) {
    switch (prop) {
      case 'model':
        $.extend(object.model._data, arg.model);
        break;
      case 'view':
        if (typeof arg.view === 'object') {
          $.extend(object.view, arg.view);
          continue;
        }
        if (arg.view[0] !== '#') {
          object.view.format = arg.view;
          continue;
        }
        $root = $(arg.view);
        viewTag = $root.prop('tagName');
        if (typeof viewTag === 'undefined') {
          throw new Error('afinity: view template not found at ' + arg.view);
        }
        viewTag = viewTag.toLowerCase();
        if (viewTag === 'script') {
          object.view.format = $root.html();
        } else {
          if (viewTag === 'form') {
            bindFormView($root, object);
          }
          object.view.format = $root.outerHTML();
          object.view.$root = $root;
          object._template = true;
        }
        break;
      case 'events':
      case 'controller':
        $.extend(object.controller, arg[prop]);
        util.extendController(object);
        break;
      default:
        object[prop] = arg[prop];
    }
  }
  return object;
};

prepArgs = function(args) {
  var argObj;
  if (typeof args[0] === 'string') {
    argObj = {};
    argObj.view = args[0];
    if (args.length > 1 && typeof args[1] === 'object') {
      argObj.events = args[1];
    }
    args = [argObj];
  }
  return args;
};

bindFormView = function($root, object) {
  var required, viewObj;
  viewObj = {};
  required = {};
  $root.find('input, select, textarea').each(function() {
    var $el, bind, name, req, tag, type;
    $el = $(this);
    bind = $el.attr('data-bind');
    name = $el.attr('name');
    tag = $el.prop('tagName').toLowerCase();
    type = $el.attr('type') || '';
    req = $el.attr('required');
    if (tag === 'textarea') {
      type = 'textarea';
    }
    if ($.isEmpty(bind) && !$.isEmpty(name)) {
      if (type === 'checkbox') {
        viewObj[name] = $el.attr('checked') === 'checked';
      } else if (type === 'radio') {
        if ($el.attr('checked')) {
          viewObj[name] = $el.val();
        } else {

        }
      } else {
        viewObj[name] = $el.val();
      }
      $el.attr('data-bind', name);
    }
    if (typeof req !== 'undefined') {
      if (type === 'email' || name === 'email') {
        required[name] = 'email';
      } else {
        required[name] = true;
      }
    }
  });
  if (!$.isEmpty(viewObj)) {
    $.extend(object.model._data, viewObj);
  }
  if (!$.isEmpty(required)) {
    object.required = $.extend(object.required || {}, required);
  }
  return object;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util":22,"../util/jquery.util":23}],6:[function(require,module,exports){
(function (global){

/*
 *
 * Root afinity methods
 *
 * isAfinity
 * body
 * create, clone, use
 * eventify
 * html, css, escaped
 *
 */
var $, eventify, util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = require('../util');

eventify = require('./eventify');

module.exports = function(afinity) {
  var registeredModules;
  afinity.isAfinity = function(obj) {
    if (typeof obj !== 'object') {
      return false;
    }
    return util.isAfinity(obj);
  };
  afinity.body = afinity({
    _body: true,
    view: {
      $: function(selector) {
        if (selector) {
          return $(selector, 'body');
        } else {
          return $('body');
        }
      }
    },
    controller: {
      _create: function() {}
    }
  });

  /*
   *
   * create, clone, use
   *
   * Simple module system to register a prototype and create instances
   *
   */
  registeredModules = {};
  afinity.create = function(name, obj) {
    var ref;
    if (typeof name === 'string' && ((ref = name[0]) === '<' || ref === '#')) {
      return afinity(name, obj);
    }
    if (typeof name === 'object') {
      if (name.name != null) {
        return afinity.create(name.name, name);
      } else {
        return afinity(name, obj);
      }
    }
    if (typeof obj === 'object') {
      if (util.isAfinity(obj)) {
        registeredModules[name] = obj;
      } else {
        registeredModules[name] = afinity(obj);
      }
      return registeredModules[name];
    }
  };
  afinity.clone = function(name, obj) {
    if (util.isAfinity(name)) {
      return afinity(name, obj);
    } else if (registeredModules[name] != null) {
      return afinity(registeredModules[name], obj);
    } else {
      throw new Error('afinity.clone: module ' + name + ' not found');
    }
  };
  afinity.use = function(name) {
    if (registeredModules[name] != null) {
      return registeredModules[name];
    } else {
      throw new Error('afinity.use: module ' + name + ' not found');
    }
  };
  afinity.eventify = eventify;
  afinity.eventify(afinity);
  return afinity;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util":22,"./eventify":3}],7:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Shim for: Object.create and Object.getPrototypeOf
 *
 * forEach
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

if (!Object.create || Object.create.toString().search(/native code/i) < 0) {
  Object.create = function(obj) {
    var Aux;
    Aux = function() {};
    $.extend(Aux.prototype, obj);
    return new Aux;
  };
}

if (!Object.getPrototypeOf || Object.getPrototypeOf.toString().search(/native code/i) < 0) {
  if (typeof 'test'.__proto__ === 'object') {
    Object.getPrototypeOf = function(object) {
      return object.__proto__;
    };
  } else {
    Object.getPrototypeOf = function(object) {
      return object.constructor.prototype;
    };
  }
}


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],8:[function(require,module,exports){

/*
 *
 * afinity - version 0.0.3
 *
 */
var slice = [].slice;

(function(window) {
  var AfinityFactory, afinity, defaultPrototype, util;
  AfinityFactory = {
    create: require('./base/create'),
    load: require('./base/load'),
    launch: require('./base/launch'),
    addMethods: require('./base/methods')
  };
  defaultPrototype = require('./prototype');
  util = require('./util');
  afinity = function() {
    var args, object, prototype;
    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
    prototype = defaultPrototype;
    if (util.isAfinity(args[0])) {
      prototype = args[0];
      args.shift();
    }
    object = AfinityFactory.create(prototype);
    if (args.length > 0) {
      AfinityFactory.load(object, args);
    }
    return AfinityFactory.launch(object);
  };
  AfinityFactory.addMethods(afinity);
  afinity.fn = defaultPrototype;
  if (typeof define === 'function' && define.amd) {
    define([], function() {
      return afinity;
    });
  } else if (typeof exports === 'object') {
    module.exports = afinity;
  } else {
    window.afinity = afinity;
  }
})(window);


},{"./base/create":2,"./base/launch":4,"./base/load":5,"./base/methods":6,"./prototype":20,"./util":22}],9:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Controller
 *
 * Default controllers, i.e. event handlers. Event handlers that start
 * with '_' are of internal use only, and take precedence over any other
 * handler without that prefix. See: trigger()
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

module.exports = {
  _create: function() {
    this.view.stylize();
    this.view.bindings();
    this.view.sync();
    if (this.init != null) {
      this.init();
    }
  },
  _destroy: function() {
    if (this.view.style) {
      $('head #afinity_' + this._id, window.document).remove();
    }
    this._container.empty();
    this.view.$().remove();
  },
  _append: function(obj, selector) {
    this.view.$(selector).append(obj.view.$());
  },
  _prepend: function(obj, selector) {
    this.view.$(selector).prepend(obj.view.$());
  },
  _before: function(obj, selector) {
    this.view.$(selector).before(obj.view.$());
  },
  _after: function(obj, selector) {
    this.view.$(selector).after(obj.view.$());
  },
  _remove: function(id) {},
  _change: function() {}
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],10:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Get
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

module.exports = function(arg) {
  var i, paths, value;
  if (!arg) {
    return this.model._data;
  }
  if (typeof arg === 'string') {
    paths = arg.split('.');
    value = this.model._data[paths[0]];
    if ($.isPlainObject(value)) {
      i = 1;
      while (i < paths.length) {
        if ($.isPlainObject(value) && value[paths[i]]) {
          value = value[paths[i]];
        } else {
          value = value[paths.splice(i).join('.')];
        }
        i++;
      }
    } else {
      value = this.model._data[arg];
    }
    return value;
  }
  throw new Error('afinity: unknown argument for get');
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],11:[function(require,module,exports){
(function (global){

/*
 *
 * Set: set model attributes and trigger change events
 *
 * TODO: Break it down into small functions
 * TODO: Optimize performance by removing extraneous operations
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

module.exports = function(arg, params, third) {
  var _clone, attr, current_node, i, index, interal, internal, j, key, last_property, len, modified, next_node, path, previous, prop;
  modified = [];
  previous = {};
  if (typeof arg === 'string') {
    attr = arg;
    arg = {};
    if (typeof params === 'object') {
      arg[attr] = $.extend({}, params);
    } else {
      arg[attr] = params;
    }
    params = third || {};
  }
  if (typeof arg === !'object') {
    throw new Error('afinity.js: unknown argument type in model.set()');
  }
  if (params && params.reset) {
    _clone = $.extend({}, this.model._data);
    this.model._data = $.extend({}, arg);
  } else {
    _clone = $.extend({}, this.model._data);
    for (prop in arg) {
      if (prop.indexOf('.') < 0) {
        break;
      }
      path = prop.split('.');
      current_node = this.model._data[path[0]] || {};
      i = 1;
      while (i < path.length - 1) {
        next_node = current_node[path[i]];
        if ($.isPlainObject(next_node)) {
          current_node = next_node;
        } else {
          current_node[path[i]] = {};
          current_node = current_node[path[i]];
        }
        i++;
      }
      last_property = path[path.length - 1];
      if ($.isPlainObject(arg[key]) && $.isPlainObject(current_node[last_property])) {
        $.extend(current_node[last_property], arg[prop]);
      } else {
        current_node[last_property] = arg[prop];
      }
    }
    $.extend(this.model._data, arg);
  }
  for (key in arg) {
    if (this.model._data[key] !== _clone[key]) {
      modified.push(key);
      previous[key] = _clone[key];
    }
    delete _clone[key];
  }
  for (key in _clone) {
    if (this.model._data[key] !== _clone[key]) {
      modified.push(key);
      previous[key] = _clone[key];
    }
  }
  if (params && params.silent) {
    return this;
  }
  this.trigger('change', [modified, previous]);
  if (params && params.direct) {
    internal = false;
  } else {
    interal = true;
  }
  for (index = j = 0, len = modified.length; j < len; index = ++j) {
    key = modified[index];
    this.trigger('change:' + key, previous[key], internal);
  }
  return this;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],12:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Validate model properties based on object.required
 *
 */
var $, $util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

$util = require('../util/jquery.util');

module.exports = {
  invalid: function() {
    var invalid, key;
    invalid = [];
    for (key in this.required) {
      if (!this.model.isValidKey(key)) {
        invalid.push(key);
      }
    }
    return invalid;
  },
  isValid: function(key) {
    if (typeof key === 'undefined') {
      return this.model.invalid().length === 0;
    } else {
      return this.model.isValidKey(key);
    }
  },
  isValidKey: function(key) {
    var requireType, val;
    if (typeof this.required[key] === 'undefined') {
      return true;
    }
    val = this.model.get(key);
    requireType = this.required[key];
    if (requireType === true) {
      return !$.isEmpty(val);
    } else if (requireType === 'email') {
      return $.isEmail(val);
    } else {

    }
    return true;
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util/jquery.util":23}],13:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Model API
 *
 * get
 * set
 * reset
 * size
 * each
 *
 * invalid
 * isValid
 * isValidKey
 *
 */
var $, model, modelValidate, util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = require('../util');

modelValidate = require('./model-validate');

model = {
  get: require('./model-get'),
  set: require('./model-set'),
  reset: function(obj) {
    if (!obj) {
      obj = this.model._initData;
    }
    this.model.set(obj, {
      reset: true
    });
    return this;
  },
  size: function() {
    return util.size(this.model._data);
  },
  each: function(fn) {
    $.each(this.model._data, $.proxy(fn, this));
    return this;
  }
};

module.exports = $.extend(model, modelValidate);


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util":22,"./model-get":10,"./model-set":11,"./model-validate":12}],14:[function(require,module,exports){
(function (global){

/*
 *
 * View bindings
 *
 *  Apply DOM <-> Model bindings, from elements with 'data-bind' attributes
 *
 * TODO: Replace self with => and @
 *
 */
var $, _parseBindStr;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);


/*
 *
 * Parse data-bind string
 *
 * Syntax:'[attribute][=] variable[, [attribute][=] variable ]...'
 *
 * All pairs in the list are assumed to be attributes
 * If the variable is not an attribute, it must occur by itself
 *
 * Returns { key:'model key', attr: [ {attr : 'attribute', attrVar : 'variable' }... ] }
 *
 */

_parseBindStr = function(str) {
  var i, keyAssigned, matched, obj, pairs, regex;
  obj = {
    key: null,
    attr: []
  };
  pairs = str.split(',');
  regex = /([a-zA-Z0-9_\-\.]+)(?:[\s=]+([a-zA-Z0-9_\-]+))?/;
  keyAssigned = false;
  matched = void 0;
  if (pairs.length > 0) {
    i = 0;
    while (i < pairs.length) {
      matched = pairs[i].match(regex);
      if (matched) {
        if (typeof matched[2] === 'undefined' || matched[2] === '') {
          if (keyAssigned) {
            throw new Error('You may specify only one key (' + keyAssigned + ' has already been specified in data-bind=' + str + ')');
          } else {
            keyAssigned = matched[1];
            obj.key = matched[1];
          }
        } else {
          obj.attr.push({
            attr: matched[1],
            attrVar: matched[2]
          });
        }
      }
      i++;
    }
  }
  return obj;
};

module.exports = function() {
  var $childNodes, $rootNode, createAttributePairClosure, self;
  self = this;
  $rootNode = this.view.$().filter('[data-bind]');
  $childNodes = this.view.$('[data-bind]');
  createAttributePairClosure = function(bindData, node, i) {
    var attrPair;
    attrPair = bindData.attr[i];
    return function() {
      if (attrPair.attr === 'html') {
        node.html(self.model.get(attrPair.attrVar));
      } else {
        node.attr(attrPair.attr, self.model.get(attrPair.attrVar));
      }
    };
  };
  $rootNode.add($childNodes).each(function() {
    var $node, bindAttributesOneWay, bindData, required;
    $node = $(this);
    bindData = _parseBindStr($node.data('bind') || '');
    required = $node.data('required');
    bindAttributesOneWay = function() {
      var i;
      if (bindData.attr) {
        i = 0;
        while (i < bindData.attr.length) {
          self.bind('_change:' + bindData.attr[i].attrVar, createAttributePairClosure(bindData, $node, i));
          i++;
        }
      }
    };
    if (bindData.key) {

      /*---------------------------------------------
       *
       * Input types
       *
       */
      if ($node.is('input:checkbox')) {
        self.bind('_change:' + bindData.key, function() {
          return $node.prop('checked', self.model.get(bindData.key));
        });
        $node.change(function() {
          return self.model.set(bindData.key, $node.prop('checked'), {
            direct: true
          });
        });
      } else if ($node.is('select')) {
        self.bind('_change:' + bindData.key, function() {
          return $node.val(self.model.get(bindData.key));
        });
        $node.change(function() {
          return self.model.set(bindData.key, $node.val(), {
            direct: true
          });
        });
      } else if ($node.is('input:radio')) {
        self.bind('_change:' + bindData.key, function() {
          return self.view.$root.find('input[name="' + $node.attr('name') + '"]').filter('[value="' + self.model.get(bindData.key) + '"]').prop('checked', true);
        });
        $node.change(function() {
          if (!$node.prop('checked')) {
            return;
          }
          return self.model.set(bindData.key, $node.val(), {
            direct: true
          });
        });
      } else if ($node.is('input:text, textarea, input[type="search"]')) {
        self.bind('_change:' + bindData.key, function() {
          return $node.val(self.model.get(bindData.key));
        });
        $node.keyup(function() {
          setTimeout(function() {
            return self.model.set(bindData.key, $node.val(), {
              direct: true
            });
          }, 50);
        });
      } else {
        self.bind('_change:' + bindData.key, (function(_this) {
          return function() {
            var key;
            key = self.model.get(bindData.key);
            if (key || key === 0) {
              $node.text(self.model.get(bindData.key).toString());
            } else {
              $node.text('');
            }
          };
        })(this));
      }
    }
    bindAttributesOneWay();
    bindData.attr.forEach(function(pair, index) {
      if (pair.attr === 'keyup') {
        $node.keyup(function() {
          setTimeout((function() {
            self.model.set(pair.attrVar, $node.val());
          }), 50);
        });
        self.bind('_change:' + pair.attrVar, function() {
          $node.val(self.model.get(pair.attrVar));
        });
      } else if (pair.attr === 'visible') {
        self.bind('_change:' + pair.attrVar, function() {
          if (self.model.get(pair.attrVar)) {
            $node.show();
          } else {
            $node.hide();
          }
        });
      } else {

      }
    });
    self.$node[bindData.key] = $node;
    self.key[$node] = bindData.key;
    if (required) {
      self.required[bindData.key] = required;
    }
  });
  return this;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],15:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * View API
 *
 * view.format
 * view.style
 * view.$
 * render
 * bindings
 * sync
 * stylize
 * $bound
 *
 */
var $, ROOT_SELECTOR, viewBind;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

viewBind = require('./view-bind');

ROOT_SELECTOR = '&';

module.exports = {
  format: '<div/>',
  style: '',
  $: function(selector) {
    if (!selector || selector === ROOT_SELECTOR) {
      return this.view.$root;
    } else {
      return this.view.$root.find(selector);
    }
  },
  render: function() {
    if (this.view.format.length === 0) {
      throw new Error('afinity: empty format in view.render()');
    }
    if (this.view.$root instanceof jQuery && this._template) {

    } else if (this.view.$root.size() === 0) {
      this.view.$root = $(this.view.format);
    } else {
      this.view.$root.html($(this.view.format).html());
    }
    if (!(this.view.$root instanceof jQuery) && this.view.$root.size() === 0) {
      throw new Error('afinity: could not generate html from format');
    }
    this.$view = this.view.$root;
    this.$ = this.view.$;
    return this;
  },
  bindings: viewBind,
  sync: function() {
    this.model.each((function(_this) {
      return function(key, val) {
        return _this.trigger('_change:' + key);
      };
    })(this));
    if (this.model.size() > 0) {
      this.trigger('_change');
    }
    return this;
  },
  stylize: function() {
    var ancestorId, ancestorWithStyle, objClass, regex, styleStr;
    if (this.view.style.length === 0 || this.view.$().size() === 0) {
      return;
    }
    regex = new RegExp(ROOT_SELECTOR, 'g');
    if (this.view.hasOwnProperty('style')) {
      objClass = 'afinity_' + this._id;
      styleStr = this.view.style.replace(regex, '.' + objClass);
      $('head', window.document).append("<style id=\"" + objClass + "\" type=\"text/css\">" + styleStr + "</style>");
      this.view.$().addClass(objClass);
    } else {
      ancestorWithStyle = function(object) {
        while (object !== null) {
          object = Object.getPrototypeOf(object);
          if (object.view.hasOwnProperty('style')) {
            return object._id;
          }
        }
        return void 0;
      };
      ancestorId = ancestorWithStyle(this);
      objClass = 'afinity_' + ancestorId;
      this.view.$().addClass(objClass);
    }
    return this;
  },
  $bound: function(key) {
    if (this.$node[key] != null) {
      return this.$node[key];
    } else {
      return false;
    }
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./view-bind":14}],16:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * _container
 *
 * API and related auxiliary functions for storing child Afinity objects.
 * Not all methods are exposed. See 'shortcuts' below for exposed methods.
 *
 */
var $, util,
  slice = [].slice;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = require('../util');

module.exports = {
  _insertObject: function(obj, selector, method, args) {
    var arg, i, len, tmp;
    if (typeof obj === 'string') {
      tmp = obj;
      obj = selector;
      selector = tmp;
    } else if (typeof obj === 'object' && typeof selector === 'object') {
      if (args == null) {
        args = [];
      }
      args.unshift(selector);
      selector = '';
    }
    if (!util.isAfinity(obj)) {
      throw new Error('afinity.js: append argument is not an afinity object');
    }
    this._container.children[obj._id] = obj;
    this.trigger(method, [obj, selector]);
    obj._parent = this;
    obj.bind('destroy', (function(_this) {
      return function(id) {
        _this._container.remove(id);
      };
    })(this));
    obj.trigger('parent:' + method);
    if (args != null) {
      for (i = 0, len = args.length; i < len; i++) {
        arg = args[i];
        this[method](arg, selector);
      }
    }
    return this;
  },
  append: function() {
    var args, obj, selector;
    obj = arguments[0], selector = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
    return this._container._insertObject.call(this, obj, selector, 'append', args);
  },
  prepend: function() {
    var args, obj, selector;
    obj = arguments[0], selector = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
    return this._container._insertObject.call(this, obj, selector, 'prepend');
  },
  after: function() {
    var args, obj, selector;
    obj = arguments[0], selector = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
    return this._container._insertObject.call(this, obj, selector, 'after');
  },
  before: function() {
    var args, obj, selector;
    obj = arguments[0], selector = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];
    return this._container._insertObject.call(this, obj, selector, 'before');
  },
  remove: function(id) {
    delete this._container.children[id];
    this.trigger('remove', id);
    return this;
  },
  each: function(fn) {
    $.each(this._container.children, fn);
    return this;
  },
  empty: function() {
    this.each(function() {
      return this.destroy();
    });
    return this;
  },
  size: function() {
    return util.size(this._container.children);
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util":22}],17:[function(require,module,exports){
(function (global){

/*
 *
 * _events API and auxiliary functions for handling events
 *
 */
var $, ROOT_SELECTOR, parseEventStr, reverseEvents,
  slice = [].slice;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

ROOT_SELECTOR = '&';


/*
 *
 * Parse event string
 *
 * 'event'          : custom event
 * 'event selector' : DOM event using 'selector'
 *
 * Returns { type:'event' [, selector:'selector'] }
 *
 */

parseEventStr = function(eventStr) {
  var eventObj, spacePos;
  eventObj = {
    type: eventStr
  };
  spacePos = eventStr.search(/\s/);
  if (spacePos > -1) {
    eventObj.type = eventStr.substr(0, spacePos);
    eventObj.selector = eventStr.substr(spacePos + 1);
  } else if (eventStr === 'click' || eventStr === 'submit' || eventStr === 'keyup' || eventStr === 'keydown') {
    eventObj.type = eventStr;
    eventObj.selector = ROOT_SELECTOR;
  }
  return eventObj;
};

reverseEvents = function(obj, eventType) {
  var e, events, reversedEvents;
  events = $(obj).data('events');
  if (events !== void 0 && events[eventType] !== void 0) {
    reversedEvents = [];
    for (e in events[eventType]) {
      if (!events[eventType].hasOwnProperty(e)) {
        continue;
      }
      reversedEvents.unshift(events[eventType][e]);
    }
    events[eventType] = reversedEvents;
  }
};

module.exports = {
  bind: function(eventStr, fn) {
    var eventObj, fnx;
    eventObj = parseEventStr(eventStr);
    fnx = function(event) {
      fn(event);
      return false;
    };
    if (eventObj.selector) {
      if (eventObj.type === 'click' || eventObj.type === 'submit') {
        if (eventObj.selector === ROOT_SELECTOR) {
          this.view.$().on(eventObj.type, fnx);
        } else {
          this.view.$().on(eventObj.type, eventObj.selector, fnx);
        }
      } else {
        if (eventObj.selector === ROOT_SELECTOR) {
          this.view.$().on(eventObj.type, fn);
        } else {
          this.view.$().on(eventObj.type, eventObj.selector, fn);
        }
      }
    } else {
      $(this._events.data).on(eventObj.type, function() {
        var data, ev;
        ev = arguments[0], data = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        return fn.apply(null, data);
      });
    }
    return this;
  },
  trigger: function(eventStr, params, internal) {
    var eventObj, prefix;
    if (internal == null) {
      internal = true;
    }
    eventObj = parseEventStr(eventStr);
    if (eventObj.selector) {
      if (eventObj.selector === ROOT_SELECTOR) {
        this.view.$().trigger(eventObj.type, params);
      } else {
        this.view.$().find(eventObj.selector).trigger(eventObj.type, params);
      }
    } else {
      if (internal) {
        $(this._events.data).trigger('_' + eventObj.type, params);
      }
      reverseEvents(this._events.data, 'pre:' + eventObj.type);
      $(this._events.data).trigger('pre:' + eventObj.type, params);
      reverseEvents(this._events.data, 'pre:' + eventObj.type);
      $(this._events.data).trigger(eventObj.type, params);
      if (this.parent()) {
        if (eventObj.type.match(/^child:/)) {
          prefix = '';
        } else {
          prefix = 'child:';
        }
        this.parent().trigger(prefix + eventObj.type, params);
      }
      $(this._events.data).trigger('post:' + eventObj.type, params);
    }
    return this;
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Extended shortcuts for afinity object
 *
 * get, set, invalid, replace, child, children, load, create, register
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

module.exports = {
  get: function(arg) {
    return this.model.get(arg);
  },
  set: function(arg, params, third) {
    return this.model.set(arg, params, third);
  },
  silentSet: function(arg) {
    return this.model.set(arg, {
      silent: true
    });
  },
  reset: function(arg) {
    return this.model.reset(arg);
  },
  invalid: function() {
    return this.model.invalid();
  },
  child: function(n) {
    var i, j;
    i = 0;
    n = n || 0;
    for (j in this._container.children) {
      if (this._container.children.hasOwnProperty(j)) {
        if (i === n) {
          return this._container.children[j];
        } else if (i > n) {
          return false;
        }
        i++;
      }
    }
    return false;
  },
  children: function() {
    return this._container.children;
  },
  replace: function(obj, selector) {
    var tmp;
    if (typeof obj === 'string' && typeof selector === 'object') {
      tmp = obj;
      obj = selector;
      selector = tmp;
    }
    if (typeof selector === 'string') {
      this.view.$(selector).html('');
    }
    this.empty()._container.append.apply(this, arguments);
    return this;
  },
  load: function(proto, models, selector) {
    var i, maxChildren, maxModels, tmp;
    if (typeof proto === 'string' && typeof selector === 'object') {
      tmp = $.extend({}, models);
      models = selector;
      selector = proto;
      proto = tmp;
    }
    maxModels = models.length;
    maxChildren = this.size();
    if (!$.isArray(models)) {
      models = [models];
    }
    $.each(models, (function(_this) {
      return function(index, model) {
        if (_this.child(index)) {
          _this.child(index).model.set(model);
        } else {
          _this.append(afinity(proto, model), selector);
        }
      };
    })(this));
    if (maxChildren > maxModels) {
      i = maxModels;
      while (i < maxChildren) {
        this.child(maxModels).destroy();
        i++;
      }
    }
    return this;
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Form helpers
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

require('../util/jquery.util');

module.exports = {
  form: {
    clear: function() {
      var checkedRadio;
      checkedRadio = [];
      this.$view.find(':input, textarea').not(':button, :submit, :reset, :hidden').removeAttr('checked').removeAttr('selected').not(':checkbox, :radio, select').val('');
      this.$view.find(':radio').each((function(_this) {
        return function(i, el) {
          var $el, name, val;
          $el = $(el);
          name = $el.attr('name');
          val = $el.val();
          if (checkedRadio.indexOf(name) < 0) {
            checkedRadio.push(name);
            $el.attr('checked', 'checked');
            _this.set(name, val);
          }
        };
      })(this));
      return this.$view;
    },
    invalid: function() {
      return this.model.invalid();
    },
    toObject: function() {
      return this.$view.serializeObject();
    },
    toJSON: function() {
      var obj;
      obj = this.$view.serializeObject();
      return JSON.stringify(obj);
    }
  }
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util/jquery.util":23}],20:[function(require,module,exports){
(function (global){

/*---------------------------------------------
 *
 * Construct default object prototype
 *
 */
var $, defaultPrototype, extend, form, shortcuts;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

defaultPrototype = {
  _afinity: true,
  _container: require('./container'),
  _events: require('./events'),
  $node: {},
  key: {},
  required: {},
  model: require('../mvc/model'),
  view: require('../mvc/view'),
  controller: require('../mvc/controller')
};

shortcuts = require('./shortcuts');

extend = require('./extend');

form = require('./form');

module.exports = $.extend(defaultPrototype, shortcuts, extend, form);


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../mvc/controller":9,"../mvc/model":13,"../mvc/view":15,"./container":16,"./events":17,"./extend":18,"./form":19,"./shortcuts":21}],21:[function(require,module,exports){

/*---------------------------------------------
 *
 * Object shortcuts
 *
 */
module.exports = {
  destroy: function() {
    this.trigger('destroy', this._id);
  },
  parent: function() {
    return this._parent;
  },
  append: function() {
    this._container.append.apply(this, arguments);
    return this;
  },
  prepend: function() {
    this._container.prepend.apply(this, arguments);
    return this;
  },
  after: function() {
    this._container.after.apply(this, arguments);
    return this;
  },
  before: function() {
    this._container.before.apply(this, arguments);
    return this;
  },
  remove: function() {
    this._container.remove.apply(this, arguments);
    return this;
  },
  size: function() {
    return this._container.size.apply(this, arguments);
  },
  each: function() {
    return this._container.each.apply(this, arguments);
  },
  empty: function() {
    return this._container.empty.apply(this, arguments);
  },
  bind: function() {
    this._events.bind.apply(this, arguments);
    return this;
  },
  on: function() {
    this._events.bind.apply(this, arguments);
    return this;
  },
  trigger: function() {
    this._events.trigger.apply(this, arguments);
    return this;
  }
};


},{}],22:[function(require,module,exports){
(function (global){

/*
 *
 * util.*
 *
 * isAfinity
 * size
 * proxyAll
 * extendController
 *
 */
var $, util;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

util = {};

util.isAfinity = function(obj) {
  if ((obj == null) || typeof obj !== 'object') {
    return false;
  } else {
    return obj._afinity === true;
  }
};

util.size = function(obj) {
  var key, size;
  size = 0;
  for (key in obj) {
    size++;
  }
  return size;
};

util.proxyAll = function(obj, dest) {
  var attr1, attr2, proxied, proxied2;
  if (!obj || !dest) {
    throw new Error('afinity.js: util.proxyAll needs two arguments');
  }
  for (attr1 in obj) {
    proxied = obj[attr1];
    if (typeof obj[attr1] === 'function') {
      proxied = obj[attr1]._noProxy ? obj[attr1] : $.proxy(obj[attr1]._preProxy || obj[attr1], dest);
      proxied._preProxy = obj[attr1]._noProxy ? void 0 : obj[attr1]._preProxy || obj[attr1];
      obj[attr1] = proxied;
    } else if (typeof obj[attr1] === 'object') {
      if (obj[attr1] instanceof jQuery || util.isAfinity(obj[attr1])) {
        continue;
      }
      for (attr2 in obj[attr1]) {
        proxied2 = obj[attr1][attr2];
        if (typeof obj[attr1][attr2] === 'function') {
          proxied2 = obj[attr1][attr2]._noProxy ? obj[attr1][attr2] : $.proxy(obj[attr1][attr2]._preProxy || obj[attr1][attr2], dest);
          proxied2._preProxy = obj[attr1][attr2]._noProxy ? void 0 : obj[attr1][attr2]._preProxy || obj[attr1][attr2];
          proxied[attr2] = proxied2;
        }
      }
      obj[attr1] = proxied;
    }
  }
};

util.extendController = function(object) {
  var controllerName, fn;
  fn = function() {
    var currentHandler, eventName, extend, matches, newHandler, previousHandler;
    if (typeof object.controller[controllerName] === 'function') {
      matches = controllerName.match(/^(\~)*(.+)/);
      extend = matches[1];
      eventName = matches[2];
      if (!extend) {
        return;
      }
      previousHandler = object.controller[eventName] ? object.controller[eventName]._preProxy || object.controller[eventName] : void 0;
      currentHandler = object.controller[controllerName];
      newHandler = function() {
        if (previousHandler) {
          previousHandler.apply(this, arguments);
        }
        if (currentHandler) {
          currentHandler.apply(this, arguments);
        }
      };
      object.controller[eventName] = newHandler;
      delete object.controller[controllerName];
    }
  };
  for (controllerName in object.controller) {
    fn();
  }
};

module.exports = util;


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],23:[function(require,module,exports){
(function (global){

/*
 *
 * jQuery utility functions
 *
 * outerHTML, isEmpty, isEmail, serializeObject
 *
 * TODO: Make these internal - don't attach on $
 *
 */
var $;

$ = (typeof window !== "undefined" ? window.jQuery : typeof global !== "undefined" ? global.jQuery : null);

$.fn.outerHTML = function(s) {
  var doc;
  if (s) {
    return this.before(s).remove();
  } else {
    doc = this[0] ? this[0].ownerDocument : document;
    return jQuery('<div>', doc).append(this.eq(0).clone()).html();
  }
};

$.isEmpty = function(mixed_var) {
  var emptyValues, i, key, len, undef;
  undef = void 0;
  key = void 0;
  i = void 0;
  len = void 0;
  emptyValues = [undef, null, ''];
  i = 0;
  len = emptyValues.length;
  while (i < len) {
    if (mixed_var === emptyValues[i]) {
      return true;
    }
    i++;
  }
  if (typeof mixed_var === 'object') {
    for (key in mixed_var) {
      if (mixed_var.hasOwnProperty(key)) {
        return false;
      }
    }
    return true;
  }
  return false;
};

$.isEmail = function(email) {
  var regex;
  if ($.isEmpty(email)) {
    return false;
  }
  regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  return regex.test(email);
};

$.fn.serializeObject = function() {
  var active, data;
  data = {};
  active = {
    datepicker: typeof $.pikaday !== 'undefined',
    timepicker: typeof $.timepicker !== 'undefined'
  };
  this.find('input, select, textarea').each(function() {
    var $el, name, type, val;
    $el = $(this);
    type = $el.attr('type');
    name = $el.attr('name');
    val = $el.val();
    if (name != null) {
      if (type === 'checkbox') {
        if (!$el.prop('checked')) {
          val = '';
        }
        if (typeof data[name] === 'undefined') {
          data[name] = val;
        } else {
          if (typeof data[name] === 'string') {
            data[name] = [data[name]];
          }
          data[name].push(val);
        }
      } else {
        if (active.datepicker && $el.hasClass('datepicker')) {
          val = $el.pikaday('getDate');
        } else if (active.timepicker && $el.hasClass('timepicker')) {
          val = $el.next().val();
        }
        data[name] = val;
      }
    }
  });
  return data;
};


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[8])(8)
});


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIi4uL3NyYy9iYXNlL2NyZWF0ZS5jb2ZmZWUiLCIuLi9zcmMvYmFzZS9ldmVudGlmeS5jb2ZmZWUiLCIuLi9zcmMvYmFzZS9sYXVuY2guY29mZmVlIiwiLi4vc3JjL2Jhc2UvbG9hZC5jb2ZmZWUiLCIuLi9zcmMvYmFzZS9tZXRob2RzLmNvZmZlZSIsIi4uL3NyYy9iYXNlL3NoaW0uY29mZmVlIiwiLi4vc3JjL2luZGV4LmNvZmZlZSIsIi4uL3NyYy9tdmMvY29udHJvbGxlci5jb2ZmZWUiLCIuLi9zcmMvbXZjL21vZGVsLWdldC5jb2ZmZWUiLCIuLi9zcmMvbXZjL21vZGVsLXNldC5jb2ZmZWUiLCIuLi9zcmMvbXZjL21vZGVsLXZhbGlkYXRlLmNvZmZlZSIsIi4uL3NyYy9tdmMvbW9kZWwuY29mZmVlIiwiLi4vc3JjL212Yy92aWV3LWJpbmQuY29mZmVlIiwiLi4vc3JjL212Yy92aWV3LmNvZmZlZSIsIi4uL3NyYy9wcm90b3R5cGUvY29udGFpbmVyLmNvZmZlZSIsIi4uL3NyYy9wcm90b3R5cGUvZXZlbnRzLmNvZmZlZSIsIi4uL3NyYy9wcm90b3R5cGUvZXh0ZW5kLmNvZmZlZSIsIi4uL3NyYy9wcm90b3R5cGUvZm9ybS5jb2ZmZWUiLCIuLi9zcmMvcHJvdG90eXBlL2luZGV4LmNvZmZlZSIsIi4uL3NyYy9wcm90b3R5cGUvc2hvcnRjdXRzLmNvZmZlZSIsIi4uL3NyYy91dGlsL2luZGV4LmNvZmZlZSIsIi4uL3NyYy91dGlsL2pxdWVyeS51dGlsLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFBLElBQUEsQ0FBWixLQUFxQixXQUF4QjtVQUF5QyxJQUFLLENBQUEsSUFBQSxDQUFMLEdBQWEsSUFBdEQ7U0FBQSxNQUFBO1VBR0UsSUFBRyxPQUFPLElBQUssQ0FBQSxJQUFBLENBQVosS0FBcUIsUUFBeEI7WUFBc0MsSUFBSyxDQUFBLElBQUEsQ0FBTCxHQUFhLENBQUUsSUFBSyxDQUFBLElBQUEsQ0FBUCxFQUFuRDs7VUFFQSxJQUFLLENBQUEsSUFBQSxDQUFLLENBQUMsSUFBWCxDQUFnQixHQUFoQixFQUxGO1NBSEY7T0FBQSxNQUFBO1FBV0UsSUFBRyxNQUFNLENBQUMsVUFBUCxJQUFzQixHQUFHLENBQUMsUUFBSixDQUFhLFlBQWIsQ0FBekI7VUFBeUQsR0FBQSxHQUFNLEdBQUcsQ0FBQyxPQUFKLENBQVksU0FBWixFQUEvRDtTQUFBLE1BRUssSUFBRyxNQUFNLENBQUMsVUFBUCxJQUFzQixHQUFHLENBQUMsUUFBSixDQUFhLFlBQWIsQ0FBekI7VUFBeUQsR0FBQSxHQUFNLEdBQUcsQ0FBQyxJQUFKLENBQUEsQ0FBVSxDQUFDLEdBQVgsQ0FBQSxFQUEvRDs7UUFDTCxJQUFLLENBQUEsSUFBQSxDQUFMLEdBQWEsSUFkZjtPQUZGOztFQUxvQyxDQUF0QztBQXlCQSxTQUFPO0FBL0JjIiwiZmlsZSI6ImFmaW5pdHkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7XG4gICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXG4gICAgbGlzdGVuZXJzID0gaGFuZGxlci5zbGljZSgpO1xuICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG07XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgaWYgKHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lcilcbiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlXG4gICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdO1xuXG4gIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7XG4gICAgdmFyIG07XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9tYXhMaXN0ZW5lcnMpKSB7XG4gICAgICBtID0gdGhpcy5fbWF4TGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYgKG0gJiYgbSA+IDAgJiYgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCA+IG0pIHtcbiAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICdsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUudHJhY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBpbiBJRSAxMFxuICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBnKTtcblxuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICB0aGlzLm9uKHR5cGUsIGcpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXR1cm4gdGhpcztcblxuICBsaXN0ID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgcG9zaXRpb24gPSAtMTtcblxuICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcbiAgICAgIChpc0Z1bmN0aW9uKGxpc3QubGlzdGVuZXIpICYmIGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG5cbiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tID4gMDspIHtcbiAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICByZXR1cm4gdGhpcztcblxuICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGlzdC5sZW5ndGggPSAwO1xuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdC5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGtleSBpbiB0aGlzLl9ldmVudHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBMSUZPIG9yZGVyXG4gICAgd2hpbGUgKGxpc3RlbmVycy5sZW5ndGgpXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tsaXN0ZW5lcnMubGVuZ3RoIC0gMV0pO1xuICB9XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSBbXTtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IFt0aGlzLl9ldmVudHNbdHlwZV1dO1xuICBlbHNlXG4gICAgcmV0ID0gdGhpcy5fZXZlbnRzW3R5cGVdLnNsaWNlKCk7XG4gIHJldHVybiByZXQ7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgdmFyIHJldDtcbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1t0eXBlXSlcbiAgICByZXQgPSAwO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gMTtcbiAgZWxzZVxuICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCIjIyNcbiNcbiMgQ3JlYXRlIGJhc2Ugb2JqZWN0XG4jXG4jIyNcblxuIyBTaGltIGZvciBPYmplY3QubWV0aG9kc1xuIyBUT0RPOiBDb25zaWRlciBkZXByZWNhdGluZ1xucmVxdWlyZSgnLi4vYmFzZS9zaGltJylcblxuIyBVc2luZyBqUXVlcnkgZm9yICQuZXh0ZW5kIGFuZCBET00gbWV0aG9kcyBmb3Igdmlld1xuIyBUT0RPOiBDb25zaWRlciBaZXB0bytsb2Rhc2hcbiQgPSByZXF1aXJlICdqcXVlcnknXG5cbmlkQ291bnRlciA9IDBcblxubW9kdWxlLmV4cG9ydHMgPSAoIHByb3RvdHlwZSApIC0+XG5cbiAgIyBCdWlsZCBvYmplY3QgZnJvbSBwcm90b3R5cGUgYXMgd2VsbCBhcyB0aGUgaW5kaXZpZHVhbCBwcm90b3R5cGUgcGFydHNcbiAgIyBFbmFibGVzIGRpZmZlcmVudGlhbCBpbmhlcml0YW5jZSBhdCB0aGUgc3ViLW9iamVjdCBsZXZlbCwgZS5nLiBvYmplY3Qudmlldy5mb3JtYXRcblxuICBvYmplY3QgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSlcbiAgb2JqZWN0Lm1vZGVsID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUubW9kZWwpXG4gIG9iamVjdC52aWV3ID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUudmlldylcbiAgb2JqZWN0LmNvbnRyb2xsZXIgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZS5jb250cm9sbGVyKVxuICBvYmplY3QuX2NvbnRhaW5lciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlLl9jb250YWluZXIpXG4gIG9iamVjdC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUuX2V2ZW50cylcbiAgb2JqZWN0LmZvcm0gPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZS5mb3JtKVxuXG4gICMgSW5zdGFuY2UgcHJvcGVydGllcywgaS5lLiBub3QgaW5oZXJpdGVkXG4gIG9iamVjdC5faWQgPSBpZENvdW50ZXIrK1xuICBvYmplY3QuX3BhcmVudCA9IG51bGxcbiAgb2JqZWN0Ll9ldmVudHMuZGF0YSA9IHt9XG5cbiAgIyBldmVudCBiaW5kaW5ncyB3aWxsIGhhcHBlbiBiZWxvd1xuICBvYmplY3QuX2NvbnRhaW5lci5jaGlsZHJlbiA9IHt9XG5cbiAgaWYgcHJvdG90eXBlLnZpZXcuJHJvb3QgaW5zdGFuY2VvZiBqUXVlcnkgYW5kIHByb3RvdHlwZS5fdGVtcGxhdGVcbiAgICAjIHByb3RvdHlwZSAkcm9vdCB0ZW1wbGF0ZSBleGlzdHM6IGNsb25lIGl0cyBjb250ZW50XG4gICAgb2JqZWN0LnZpZXcuJHJvb3QgPSAkKHByb3RvdHlwZS52aWV3LiRyb290Lm91dGVySFRNTCgpKVxuICBlbHNlXG4gICAgb2JqZWN0LnZpZXcuJHJvb3QgPSAkKClcbiAgICAjIGVtcHR5IGpRdWVyeSBvYmplY3RcblxuICAjIENsb25lIG93biBwcm9wZXJ0aWVzXG4gICMgaS5lLiBwcm9wZXJ0aWVzIHRoYXQgYXJlIGluaGVyaXRlZCBieSBkaXJlY3QgY29weSBpbnN0ZWFkIG9mIHByb3RvdHlwZSBjaGFpbi5cbiAgIyBUaGlzIHByZXZlbnRzIGNoaWxkcmVuIGZyb20gYWx0ZXJpbmcgcGFyZW50cyBtb2RlbHNcblxuICAjIENoaWxkcmVuXG4gIG9iamVjdC5fZGF0YSA9IHt9XG4gIGlmIHByb3RvdHlwZS5fZGF0YVxuICAgICQuZXh0ZW5kKHRydWUsIG9iamVjdC5fZGF0YSwgcHJvdG90eXBlLl9kYXRhKVxuXG4gICMgTW9kZWxcbiAgb2JqZWN0Lm1vZGVsLl9kYXRhID0ge31cbiAgaWYgcHJvdG90eXBlLm1vZGVsLl9kYXRhXG4gICAgJC5leHRlbmQodHJ1ZSwgb2JqZWN0Lm1vZGVsLl9kYXRhLCBwcm90b3R5cGUubW9kZWwuX2RhdGEpXG5cbiAgcmV0dXJuIG9iamVjdFxuIiwiRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG5cbm1vZHVsZS5leHBvcnRzID0gKCBvYmogKSAtPlxuICBvYmogPSBvYmogb3Ige31cbiAgZXYgPSBuZXcgRXZlbnRpZnlcbiAgIyBFeHRlbmQgb2JqZWN0IHdpdGggZXZlbnRpZnkgbWV0aG9kc1xuICBvYmpba2V5XSA9IG1ldGhvZCBmb3Iga2V5LCBtZXRob2Qgb2YgZXZcbiAgcmV0dXJuIG9ialxuXG5jbGFzcyBFdmVudGlmeVxuXG4gIGNvbnN0cnVjdG9yOiAtPiBAaHViID0gbmV3IEV2ZW50RW1pdHRlclxuXG4gIG9uIDogKCBldmVudE5hbWUsIGZuICkgLT5cbiAgICBmb3IgZXZlbnQsIGhhbmRsZXIgb2YgbWFrZUV2ZW50T2JqIGV2ZW50TmFtZSwgZm5cbiAgICAgIEBodWIub24gZXZlbnQsIGhhbmRsZXJcbiAgICByZXR1cm4gQFxuXG4gIG9uY2UgOiAoIGV2ZW50TmFtZSwgZm4gKSAtPlxuICAgIGZvciBldmVudCwgaGFuZGxlciBvZiBtYWtlRXZlbnRPYmogZXZlbnROYW1lLCBmblxuICAgICAgQGh1Yi5vbmNlIGV2ZW50LCBoYW5kbGVyXG4gICAgcmV0dXJuIEBcblxuICBlbWl0IDogKCBldmVudE5hbWUsIGRhdGEgKSAtPlxuICAgIGZvciBldmVudCwgZWFjaERhdGEgb2YgbWFrZUV2ZW50T2JqIGV2ZW50TmFtZSwgZGF0YVxuICAgICAgQGh1Yi5lbWl0IGV2ZW50LCBlYWNoRGF0YVxuICAgIHJldHVybiBAXG5cbiAgdHJpZ2dlciA6ICggZXZlbnROYW1lLCBkYXRhICkgLT4gQGVtaXQgZXZlbnROYW1lLCBkYXRhXG5cblxubWFrZUV2ZW50T2JqID0gKCBldmVudE5hbWUsIGRhdGEgKSAtPlxuICBhbGxFdmVudHMgPSB7fVxuICAjIFNpbmdsZSBldmVudCBkZWZpbml0aW9uXG4gIGlmIHR5cGVvZiBldmVudE5hbWUgaXMgJ3N0cmluZycgdGhlbiBhbGxFdmVudHNbZXZlbnROYW1lXSA9IGRhdGFcbiAgIyBPciBtdWx0aXBsZSBldmVudCBkZWZpbml0aW9ucyB7IGV2ZW50OmZuLCBldmVudDpmbiB9XG4gIGVsc2UgYWxsRXZlbnRzID0gZXZlbnROYW1lXG4gIHJldHVybiBhbGxFdmVudHNcbiIsIiMjI1xuI1xuIyBMYXVuY2ggc2VxdWVuY2U6IEJpbmRpbmdzLCBpbml0aWFsaXphdGlvbnMsIGV0Y1xuI1xuIyMjXG5cbiMgVXNpbmcgJC5leHRlbmQgYW5kICQuZWFjaFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG51dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID0gKCBvYmplY3QgKSAtPlxuXG4gICMgU2F2ZSBtb2RlbCdzIGluaXRpYWwgc3RhdGUgKHNvIGl0IGNhbiBiZSAucmVzZXQoKSBsYXRlcilcbiAgb2JqZWN0Lm1vZGVsLl9pbml0RGF0YSA9ICQuZXh0ZW5kIHt9LCBvYmplY3QubW9kZWwuX2RhdGFcblxuICAjIG9iamVjdC4qIHdpbGwgaGF2ZSB0aGVpciAndGhpcycgPT09IG9iamVjdC5cbiAgIyBUaGlzIG11c3QgY29tZSBiZWZvcmUgY2FsbCB0byBvYmplY3QuKiBiZWxvdy5cbiAgdXRpbC5wcm94eUFsbCBvYmplY3QsIG9iamVjdFxuXG4gICMgSW5pdGlhbGl6ZSAkcm9vdCwgbmVlZGVkIGZvciBET00gZXZlbnRzIGJpbmRpbmcgYmVsb3dcbiAgb2JqZWN0LnZpZXcucmVuZGVyKClcblxuICBiaW5kRXZlbnQgPSAoZXYsIGhhbmRsZXIpIC0+XG4gICAgaWYgdHlwZW9mIGhhbmRsZXIgPT0gJ2Z1bmN0aW9uJ1xuICAgICAgb2JqZWN0LmJpbmQgZXYsIGhhbmRsZXJcbiAgICByZXR1cm5cblxuICAjIEJpbmQgYWxsIGNvbnRyb2xsZXJzIHRvIHRoZWlyIGV2ZW50c1xuICBmb3IgZXZlbnRTdHIgb2Ygb2JqZWN0LmNvbnRyb2xsZXJcbiAgICBldmVudHMgPSBldmVudFN0ci5zcGxpdCgnLCcpXG4gICAgIyBDaGFuZ2VkIGZyb20gJzsnXG4gICAgaGFuZGxlciA9IG9iamVjdC5jb250cm9sbGVyW2V2ZW50U3RyXVxuICAgICQuZWFjaCBldmVudHMsIChpLCBldikgLT5cbiAgICAgIGV2ID0gJC50cmltKGV2KVxuICAgICAgYmluZEV2ZW50IGV2LCBoYW5kbGVyXG4gICAgICByZXR1cm5cblxuICBvYmplY3QudHJpZ2dlciAnY3JlYXRlJ1xuXG4gIHJldHVybiBvYmplY3RcbiIsIiMjI1xuI1xuIyBFeHRlbmQgYmFzZSBvYmplY3Qgd2l0aCBNVkMgZnJvbSBhcmdzXG4jXG4jIyNcblxuIyBVc2luZzogJC5pc0VtcHR5LCBleHRlbmRcbiQgPSByZXF1aXJlICdqcXVlcnknXG51dGlsID0gcmVxdWlyZSAnLi4vdXRpbCdcbnJlcXVpcmUgJy4uL3V0aWwvanF1ZXJ5LnV0aWwnXG5cbm1vZHVsZS5leHBvcnRzID0gKCBvYmplY3QsIGFyZ3MgKSAtPlxuXG4gIGFyZ3MgPSBwcmVwQXJncyBhcmdzXG4gIGFyZyA9IGFyZ3NbMF1cblxuICAjIFByb3RvdHlwZSBkaWZmZXJlbnRpYWwgZnJvbSB7IG1vZGVsLCB2aWV3LCBldmVudHMgfSBvYmplY3RcbiAgZm9yIHByb3Agb2YgYXJnXG4gICAgc3dpdGNoIHByb3BcblxuICAgICAgIyBNb2RlbFxuICAgICAgd2hlbiAnbW9kZWwnXG4gICAgICAgICQuZXh0ZW5kIG9iamVjdC5tb2RlbC5fZGF0YSwgYXJnLm1vZGVsXG5cbiAgICAgICMgVmlld1xuICAgICAgd2hlbiAndmlldydcblxuICAgICAgICAjIHsgZm9ybWF0LCBzdHlsZSB9XG4gICAgICAgIGlmIHR5cGVvZiBhcmcudmlldyBpcyAnb2JqZWN0J1xuICAgICAgICAgICQuZXh0ZW5kIG9iamVjdC52aWV3LCBhcmcudmlld1xuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgIyBEaXJlY3QgdGVtcGxhdGUgc3RyaW5nXG4gICAgICAgIGlmIGFyZy52aWV3WzBdIGlzbnQgJyMnXG4gICAgICAgICAgb2JqZWN0LnZpZXcuZm9ybWF0ID0gYXJnLnZpZXdcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgICMgRnJvbSBET006ICcjdGVtcGxhdGUtaWQnXG4gICAgICAgICRyb290ID0gJChhcmcudmlldylcbiAgICAgICAgdmlld1RhZyA9ICRyb290LnByb3AoJ3RhZ05hbWUnKVxuICAgICAgICBpZiB0eXBlb2Ygdmlld1RhZyBpcyAndW5kZWZpbmVkJ1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvciAnYWZpbml0eTogdmlldyB0ZW1wbGF0ZSBub3QgZm91bmQgYXQgJyArIGFyZy52aWV3XG4gICAgICAgIHZpZXdUYWcgPSB2aWV3VGFnLnRvTG93ZXJDYXNlKClcblxuICAgICAgICAjIFRlbXBsYXRlIGZyb20gc2NyaXB0IHRhZ1xuICAgICAgICBpZiB2aWV3VGFnID09ICdzY3JpcHQnIHRoZW4gb2JqZWN0LnZpZXcuZm9ybWF0ID0gJHJvb3QuaHRtbCgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAjIFRlbXBsYXRlIGZyb20gZXhpc3RpbmcgRE9NXG5cbiAgICAgICAgICAjIElmIGZvcm0sIGF1dG9tYXRpY2FsbHkgYmluZCBpbnB1dHMgdG8gbW9kZWwgYmFzZWQgb24gbmFtZVxuICAgICAgICAgIGlmIHZpZXdUYWcgPT0gJ2Zvcm0nIHRoZW4gYmluZEZvcm1WaWV3ICRyb290LCBvYmplY3RcblxuICAgICAgICAgICMgSW5jbHVkZSBjb250YWluZXIgaXRzZWxmXG4gICAgICAgICAgb2JqZWN0LnZpZXcuZm9ybWF0ID0gJHJvb3Qub3V0ZXJIVE1MKClcbiAgICAgICAgICAjIEFzc2lnbiByb290IHRvIGV4aXN0aW5nIERPTSBlbGVtZW50XG4gICAgICAgICAgb2JqZWN0LnZpZXcuJHJvb3QgPSAkcm9vdFxuICAgICAgICAgIG9iamVjdC5fdGVtcGxhdGUgPSB0cnVlXG5cbiAgICAgICMgRXZlbnRzXG4gICAgICB3aGVuICdldmVudHMnLCAnY29udHJvbGxlcidcbiAgICAgICAgJC5leHRlbmQgb2JqZWN0LmNvbnRyb2xsZXIsIGFyZ1twcm9wXVxuICAgICAgICB1dGlsLmV4dGVuZENvbnRyb2xsZXIgb2JqZWN0XG5cbiAgICAgICMgVXNlci1kZWZpbmVkIG1ldGhvZHNcbiAgICAgIGVsc2VcbiAgICAgICAgb2JqZWN0W3Byb3BdID0gYXJnW3Byb3BdXG5cbiAgIyBGb3IgZWFjaCBwcm9wZXJ0eSBpbiBvYmplY3RcblxuICByZXR1cm4gb2JqZWN0XG5cbnByZXBBcmdzID0gKCBhcmdzICkgLT5cbiAgIyBpZiBmaXJzdCBhcmd1bWVudCBpcyB2aWV3IHRlbXBsYXRlLCBwYXNzIGFyZ3MgYXMgeyB2aWV3OnRlbXBsYXRlIH1cbiAgaWYgdHlwZW9mIGFyZ3NbMF0gPT0gJ3N0cmluZydcbiAgICBhcmdPYmogPSB7fVxuICAgIGFyZ09iai52aWV3ID0gYXJnc1swXVxuICAgIGlmIGFyZ3MubGVuZ3RoID4gMSBhbmQgdHlwZW9mIGFyZ3NbMV0gPT0gJ29iamVjdCdcbiAgICAgIGFyZ09iai5ldmVudHMgPSBhcmdzWzFdXG4gICAgYXJncyA9IFsgYXJnT2JqIF1cbiAgcmV0dXJuIGFyZ3NcblxuYmluZEZvcm1WaWV3ID0gKCAkcm9vdCwgb2JqZWN0ICkgLT5cblxuICB2aWV3T2JqID0ge31cbiAgcmVxdWlyZWQgPSB7fVxuXG4gICRyb290LmZpbmQoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJykuZWFjaCAtPlxuXG4gICAgJGVsID0gJCh0aGlzKVxuICAgIGJpbmQgPSAkZWwuYXR0cignZGF0YS1iaW5kJylcbiAgICBuYW1lID0gJGVsLmF0dHIoJ25hbWUnKVxuICAgIHRhZyA9ICRlbC5wcm9wKCd0YWdOYW1lJykudG9Mb3dlckNhc2UoKVxuICAgIHR5cGUgPSAkZWwuYXR0cigndHlwZScpIG9yICcnXG4gICAgcmVxID0gJGVsLmF0dHIoJ3JlcXVpcmVkJylcblxuICAgIGlmIHRhZyA9PSAndGV4dGFyZWEnIHRoZW4gdHlwZSA9ICd0ZXh0YXJlYSdcblxuICAgIGlmICQuaXNFbXB0eShiaW5kKSBhbmQgISQuaXNFbXB0eShuYW1lKVxuICAgICAgaWYgdHlwZSA9PSAnY2hlY2tib3gnIHRoZW4gdmlld09ialtuYW1lXSA9ICRlbC5hdHRyKCdjaGVja2VkJykgPT0gJ2NoZWNrZWQnXG4gICAgICAgICMgYm9vbGVhblxuICAgICAgZWxzZSBpZiB0eXBlID09ICdyYWRpbydcbiAgICAgICAgIyBSYWRpbyBpcyBjaGVja2VkXG4gICAgICAgIGlmICRlbC5hdHRyKCdjaGVja2VkJykgdGhlbiB2aWV3T2JqW25hbWVdID0gJGVsLnZhbCgpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAjIG5vdCBjaGVja2VkXG4gICAgICBlbHNlXG4gICAgICAgIHZpZXdPYmpbbmFtZV0gPSAkZWwudmFsKClcblxuICAgICAgJGVsLmF0dHIgJ2RhdGEtYmluZCcsIG5hbWVcblxuICAgICMgSWYgcmVxdWlyZWQsIGFkZCBpdCB0byBhcnJheVxuICAgIGlmIHR5cGVvZiByZXEgIT0gJ3VuZGVmaW5lZCdcbiAgICAgIGlmIHR5cGUgPT0gJ2VtYWlsJyBvciBuYW1lID09ICdlbWFpbCcgdGhlbiByZXF1aXJlZFtuYW1lXSA9ICdlbWFpbCdcbiAgICAgIGVsc2UgcmVxdWlyZWRbbmFtZV0gPSB0cnVlXG4gICAgcmV0dXJuXG5cbiAgaWYgISQuaXNFbXB0eSh2aWV3T2JqKSB0aGVuICQuZXh0ZW5kIG9iamVjdC5tb2RlbC5fZGF0YSwgdmlld09ialxuICBpZiAhJC5pc0VtcHR5KHJlcXVpcmVkKSB0aGVuIG9iamVjdC5yZXF1aXJlZCA9ICQuZXh0ZW5kKG9iamVjdC5yZXF1aXJlZCBvciB7fSwgcmVxdWlyZWQpXG4gIHJldHVybiBvYmplY3RcbiIsIiMjI1xuI1xuIyBSb290IGFmaW5pdHkgbWV0aG9kc1xuI1xuIyBpc0FmaW5pdHlcbiMgYm9keVxuIyBjcmVhdGUsIGNsb25lLCB1c2VcbiMgZXZlbnRpZnlcbiMgaHRtbCwgY3NzLCBlc2NhcGVkXG4jXG4jIyNcblxuIyBVc2luZzogalF1ZXJ5IG9iamVjdFxuJCA9IHJlcXVpcmUgJ2pxdWVyeSdcbnV0aWwgPSByZXF1aXJlICcuLi91dGlsJ1xuIyBFdmVudCBlbWl0dGVyIGZhY3RvcnlcbmV2ZW50aWZ5ID0gcmVxdWlyZSAnLi9ldmVudGlmeSdcblxubW9kdWxlLmV4cG9ydHMgPSAoIGFmaW5pdHkgKSAtPlxuXG4gICMgaXNBZmluaXR5IHRlc3RcbiAgYWZpbml0eS5pc0FmaW5pdHkgPSAob2JqKSAtPlxuICAgIGlmIHR5cGVvZiBvYmogIT0gJ29iamVjdCcgdGhlbiByZXR1cm4gZmFsc2VcbiAgICB1dGlsLmlzQWZpbml0eSBvYmpcblxuICAjIGFmaW5pdHkuYm9keSBpcyBhIHVuaXF1ZSBhZmluaXR5IG9iamVjdCwgd2hvc2UgdmlldyBpcyBhdHRhY2hlZCB0byA8Ym9keT5cbiAgIyBUaGlzIG9iamVjdCBjYW4gYmUgdXNlZCBhcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgYWxsIERPTSBvcGVyYXRpb25zXG4gIGFmaW5pdHkuYm9keSA9IGFmaW5pdHkoXG4gICAgX2JvZHk6IHRydWVcbiAgICB2aWV3OlxuICAgICAgJDogKHNlbGVjdG9yKSAtPiBpZiBzZWxlY3RvciB0aGVuICQoc2VsZWN0b3IsICdib2R5JykgZWxzZSAkKCdib2R5JylcbiAgICAjIGJ5cGFzcyBkZWZhdWx0IGNyZWF0ZSBldmVudFxuICAgIGNvbnRyb2xsZXI6IF9jcmVhdGU6IC0+XG4gIClcblxuICAjIyNcbiAgI1xuICAjIGNyZWF0ZSwgY2xvbmUsIHVzZVxuICAjXG4gICMgU2ltcGxlIG1vZHVsZSBzeXN0ZW0gdG8gcmVnaXN0ZXIgYSBwcm90b3R5cGUgYW5kIGNyZWF0ZSBpbnN0YW5jZXNcbiAgI1xuICAjIyNcblxuICByZWdpc3RlcmVkTW9kdWxlcyA9IHt9XG5cbiAgYWZpbml0eS5jcmVhdGUgPSAobmFtZSwgb2JqKSAtPlxuXG4gICAgIyB0ZW1wbGF0ZSBnaXZlbiBhcyBzdHJpbmdcbiAgICBpZiB0eXBlb2YgbmFtZSBpcyAnc3RyaW5nJyBhbmQgbmFtZVswXSBpbiBbJzwnLCAnIyddXG4gICAgICByZXR1cm4gYWZpbml0eSBuYW1lLCBvYmpcblxuICAgICMgeyBtb2RlbCwgdmlldywgZXZlbnRzIH1cbiAgICBpZiB0eXBlb2YgbmFtZSBpcyAnb2JqZWN0J1xuICAgICAgIyB7IG5hbWUsIG1vZGVsLCB2aWV3LCBldmVudHMgfVxuICAgICAgaWYgbmFtZS5uYW1lPyB0aGVuIHJldHVybiBhZmluaXR5LmNyZWF0ZSBuYW1lLm5hbWUsIG5hbWVcbiAgICAgICMgYWZpbml0eSBvYmplY3Qgd2l0aCBubyBuYW1lXG4gICAgICBlbHNlIHJldHVybiBhZmluaXR5IG5hbWUsIG9ialxuXG4gICAgaWYgdHlwZW9mIG9iaiBpcyAnb2JqZWN0J1xuICAgICAgIyBSZWdpc3RlciBhbiBleGlzdGluZyBhZmluaXR5IG9iamVjdFxuICAgICAgaWYgdXRpbC5pc0FmaW5pdHkgb2JqIHRoZW4gcmVnaXN0ZXJlZE1vZHVsZXNbbmFtZV0gPSBvYmpcbiAgICAgICMgT3IgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgZWxzZSByZWdpc3RlcmVkTW9kdWxlc1tuYW1lXSA9IGFmaW5pdHkgb2JqXG4gICAgICByZXR1cm4gcmVnaXN0ZXJlZE1vZHVsZXNbbmFtZV1cblxuICBhZmluaXR5LmNsb25lID0gKG5hbWUsIG9iaikgLT5cbiAgICBpZiB1dGlsLmlzQWZpbml0eSBuYW1lIHRoZW4gYWZpbml0eSBuYW1lLCBvYmpcbiAgICBlbHNlIGlmIHJlZ2lzdGVyZWRNb2R1bGVzW25hbWVdPyB0aGVuIHJldHVybiBhZmluaXR5IHJlZ2lzdGVyZWRNb2R1bGVzW25hbWVdLCBvYmpcbiAgICBlbHNlIHRocm93IG5ldyBFcnJvciAnYWZpbml0eS5jbG9uZTogbW9kdWxlICcgKyBuYW1lICsgJyBub3QgZm91bmQnXG5cbiAgYWZpbml0eS51c2UgPSAobmFtZSkgLT5cbiAgICBpZiByZWdpc3RlcmVkTW9kdWxlc1tuYW1lXT8gdGhlbiByZXR1cm4gcmVnaXN0ZXJlZE1vZHVsZXNbbmFtZV1cbiAgICBlbHNlIHRocm93IG5ldyBFcnJvciAnYWZpbml0eS51c2U6IG1vZHVsZSAnICsgbmFtZSArICcgbm90IGZvdW5kJ1xuXG4gICMgRXZlbnQgbWFuYWdlciBmYWN0b3J5XG4gIGFmaW5pdHkuZXZlbnRpZnkgPSBldmVudGlmeVxuICBhZmluaXR5LmV2ZW50aWZ5IGFmaW5pdHkgIyBFdmVudGlmeSB5b3NlbGZcblxuICByZXR1cm4gYWZpbml0eVxuIiwiIyMjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jXG4jIFNoaW0gZm9yOiBPYmplY3QuY3JlYXRlIGFuZCBPYmplY3QuZ2V0UHJvdG90eXBlT2ZcbiNcbiMgZm9yRWFjaFxuI1xuIyMjXG5cbiMgVXNpbmc6ICQuZXh0ZW5kXG4kID0gcmVxdWlyZSAnanF1ZXJ5J1xuXG4jIE1vZGlmaWVkIGZyb20gRG91Z2xhcyBDcm9ja2ZvcmQncyBPYmplY3QuY3JlYXRlKClcbiMgVGhlIGNvbmRpdGlvbiBiZWxvdyBlbnN1cmVzIHdlIG92ZXJyaWRlIG90aGVyIG1hbnVhbCBpbXBsZW1lbnRhdGlvbnNcbmlmICFPYmplY3QuY3JlYXRlIG9yIE9iamVjdC5jcmVhdGUudG9TdHJpbmcoKS5zZWFyY2goL25hdGl2ZSBjb2RlL2kpIDwgMFxuXG4gIE9iamVjdC5jcmVhdGUgPSAob2JqKSAtPlxuICAgIEF1eCA9IC0+XG4gICAgJC5leHRlbmQgQXV4LnByb3RvdHlwZSwgb2JqXG4gICAgIyBzaW1wbHkgc2V0dGluZyBBdXgucHJvdG90eXBlID0gb2JqIHNvbWVob3cgbWVzc2VzIHdpdGggY29uc3RydWN0b3IsIHNvIGdldFByb3RvdHlwZU9mIHdvdWxkbid0IHdvcmsgaW4gSUVcbiAgICBuZXcgQXV4XG5cbiMgTW9kaWZpZWQgZnJvbSBKb2huIFJlc2lnJ3MgT2JqZWN0LmdldFByb3RvdHlwZU9mKClcbiMgVGhlIGNvbmRpdGlvbiBiZWxvdyBlbnN1cmVzIHdlIG92ZXJyaWRlIG90aGVyIG1hbnVhbCBpbXBsZW1lbnRhdGlvbnNcbmlmICFPYmplY3QuZ2V0UHJvdG90eXBlT2Ygb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mLnRvU3RyaW5nKCkuc2VhcmNoKC9uYXRpdmUgY29kZS9pKSA8IDBcbiAgaWYgdHlwZW9mICd0ZXN0Jy5fX3Byb3RvX18gaXMgJ29iamVjdCdcbiAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPSAob2JqZWN0KSAtPlxuICAgICAgb2JqZWN0Ll9fcHJvdG9fX1xuICBlbHNlXG4gICAgT2JqZWN0LmdldFByb3RvdHlwZU9mID0gKG9iamVjdCkgLT5cbiAgICAgICMgTWF5IGJyZWFrIGlmIHRoZSBjb25zdHJ1Y3RvciBoYXMgYmVlbiB0YW1wZXJlZCB3aXRoXG4gICAgICBvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlXG4iLCIjIyNcbiNcbiMgYWZpbml0eSAtIHZlcnNpb24gMC4wLjNcbiNcbiMjI1xuXG4oKHdpbmRvdykgLT5cblxuICBBZmluaXR5RmFjdG9yeSA9XG4gICAgY3JlYXRlIDogcmVxdWlyZSgnLi9iYXNlL2NyZWF0ZScpXG4gICAgbG9hZCA6IHJlcXVpcmUoJy4vYmFzZS9sb2FkJylcbiAgICBsYXVuY2ggOiByZXF1aXJlKCcuL2Jhc2UvbGF1bmNoJylcbiAgICBhZGRNZXRob2RzIDogcmVxdWlyZSgnLi9iYXNlL21ldGhvZHMnKVxuXG4gIGRlZmF1bHRQcm90b3R5cGUgPSByZXF1aXJlKCcuL3Byb3RvdHlwZScpXG4gIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuXG4gICMgQWZpbml0eSBvYmplY3QgZmFjdG9yeVxuICBhZmluaXR5ID0gKGFyZ3MuLi4pIC0+XG5cbiAgICBwcm90b3R5cGUgPSBkZWZhdWx0UHJvdG90eXBlXG5cbiAgICAjIElmIGZpcnN0IGFyZyBpcyBhbiBhZmluaXR5IG9iamVjdCwgdXNlIGl0IGFzIHByb3RvdHlwZVxuICAgIGlmIHV0aWwuaXNBZmluaXR5IGFyZ3NbMF1cbiAgICAgIHByb3RvdHlwZSA9IGFyZ3NbMF1cbiAgICAgIGFyZ3Muc2hpZnQoKVxuXG4gICAgIyBDcmVhdGUgbmV3IG9iamVjdCBmcm9tIHByb3RvdHlwZVxuICAgIG9iamVjdCA9IEFmaW5pdHlGYWN0b3J5LmNyZWF0ZSBwcm90b3R5cGVcblxuICAgICMgTG9hZCBtb2RlbC92aWV3L2V2ZW50cyBmcm9tIGFyZ3VtZW50c1xuICAgIGlmIGFyZ3MubGVuZ3RoID4gMCB0aGVuIEFmaW5pdHlGYWN0b3J5LmxvYWQgb2JqZWN0LCBhcmdzXG5cbiAgICAjIExhdW5jaCBpbml0IHNlcXVlbmNlXG4gICAgcmV0dXJuIEFmaW5pdHlGYWN0b3J5LmxhdW5jaCBvYmplY3RcblxuICAjIEdpdmUgaXQgc29tZSByb290IG1ldGhvZHNcbiAgQWZpbml0eUZhY3RvcnkuYWRkTWV0aG9kcyBhZmluaXR5XG5cbiAgIyBTaG9ydGN1dCB0byBwcm90b3R5cGUgZm9yIGluaGVyaXRlZCBleHRlbnNpb25zXG4gIGFmaW5pdHkuZm4gPSBkZWZhdWx0UHJvdG90eXBlXG5cbiAgIyBFeHBvcnQgaXQgLSBBTUQsIENvbW1vbkpTLCB0aGVuIGdsb2JhbFxuICBpZiB0eXBlb2YgZGVmaW5lIGlzICdmdW5jdGlvbicgYW5kIGRlZmluZS5hbWRcbiAgICBkZWZpbmUgW10sIC0+IGFmaW5pdHlcbiAgZWxzZSBpZiB0eXBlb2YgZXhwb3J0cyBpcyAnb2JqZWN0J1xuICAgIG1vZHVsZS5leHBvcnRzID0gYWZpbml0eVxuICBlbHNlXG4gICAgd2luZG93LmFmaW5pdHkgPSBhZmluaXR5XG5cbiAgcmV0dXJuXG5cbikgd2luZG93XG4iLCIjIyMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiNcbiMgQ29udHJvbGxlclxuI1xuIyBEZWZhdWx0IGNvbnRyb2xsZXJzLCBpLmUuIGV2ZW50IGhhbmRsZXJzLiBFdmVudCBoYW5kbGVycyB0aGF0IHN0YXJ0XG4jIHdpdGggJ18nIGFyZSBvZiBpbnRlcm5hbCB1c2Ugb25seSwgYW5kIHRha2UgcHJlY2VkZW5jZSBvdmVyIGFueSBvdGhlclxuIyBoYW5kbGVyIHdpdGhvdXQgdGhhdCBwcmVmaXguIFNlZTogdHJpZ2dlcigpXG4jXG4jIyNcblxuIyBVc2luZzogJC5yZW1vdmVcbiQgPSByZXF1aXJlICdqcXVlcnknXG5cbm1vZHVsZS5leHBvcnRzID1cblxuICBfY3JlYXRlOiAtPlxuICAgIEB2aWV3LnN0eWxpemUoKSAjIE9iamVjdCBzdHlsZVxuICAgIEB2aWV3LmJpbmRpbmdzKCkgIyBNb2RlbC12aWV3IGJpbmRpbmdzXG4gICAgQHZpZXcuc3luYygpICMgU3luYyB2aWV3IHdpdGggbW9kZWxcbiAgICBpZiBAaW5pdD8gdGhlbiBAaW5pdCgpICMgc2hvcnRjdXQgdG8gZXZlbnRzOmNyZWF0ZVxuICAgIHJldHVyblxuXG4gIF9kZXN0cm95OiAtPlxuICAgICMgUmVtb3ZlIGdlbmVyYXRlZCBzdHlsZSB1cG9uIGRlc3RydWN0aW9uIG9mIG9iamVjdHNcbiAgICBpZiBAdmlldy5zdHlsZVxuICAgICAgJCgnaGVhZCAjYWZpbml0eV8nKyBAX2lkLCB3aW5kb3cuZG9jdW1lbnQpLnJlbW92ZSgpXG4gICAgIyBkZXN0cm95IGFueSBhcHBlbmRlZCBhZmluaXR5IG9iamVjdHNcbiAgICBAX2NvbnRhaW5lci5lbXB0eSgpXG4gICAgIyBkZXN0cm95IHNlbGYgaW4gRE9NLCByZW1vdmluZyBhbGwgZXZlbnRzXG4gICAgQHZpZXcuJCgpLnJlbW92ZSgpXG4gICAgcmV0dXJuXG5cbiAgX2FwcGVuZDogKCBvYmosIHNlbGVjdG9yICkgLT5cbiAgICBAdmlldy4kKHNlbGVjdG9yKS5hcHBlbmQgb2JqLnZpZXcuJCgpXG4gICAgcmV0dXJuXG5cbiAgX3ByZXBlbmQ6ICggb2JqLCBzZWxlY3RvciApIC0+XG4gICAgQHZpZXcuJChzZWxlY3RvcikucHJlcGVuZCBvYmoudmlldy4kKClcbiAgICByZXR1cm5cblxuICBfYmVmb3JlOiAoIG9iaiwgc2VsZWN0b3IgKSAtPlxuICAgIEB2aWV3LiQoc2VsZWN0b3IpLmJlZm9yZSBvYmoudmlldy4kKClcbiAgICByZXR1cm5cblxuICBfYWZ0ZXI6ICggb2JqLCBzZWxlY3RvciApIC0+XG4gICAgQHZpZXcuJChzZWxlY3RvcikuYWZ0ZXIgb2JqLnZpZXcuJCgpXG4gICAgcmV0dXJuXG5cbiAgX3JlbW92ZTogKCBpZCApIC0+XG4gICAgIyBXaGVyZSBpcyBpdCBkZWZpbmVkLi4/XG5cbiAgX2NoYW5nZTogLT5cbiIsIiMjIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuI1xuIyBHZXRcbiNcbiMjI1xuXG4jIFVzaW5nOiAkLmlzUGxhaW5PYmplY3RcbiQgPSByZXF1aXJlICdqcXVlcnknXG5cbm1vZHVsZS5leHBvcnRzID0gKCBhcmcgKSAtPlxuXG4gICMgZ2V0KCkgcmV0dXJucyB0aGUgd2hvbGUgbW9kZWxcbiAgaWYgbm90IGFyZyB0aGVuIHJldHVybiBAbW9kZWwuX2RhdGFcblxuICAjIEdldCBhdHRyaWJ1dGVcbiAgIyBAcHVsbCAjOTEgQWRkIHN1cHBvcnQgZm9yIG5lc3RlZCBtb2RlbHM6IHBhcmVudC5jaGlsZFxuICBpZiB0eXBlb2YgYXJnID09ICdzdHJpbmcnXG4gICAgcGF0aHMgPSBhcmcuc3BsaXQoJy4nKVxuICAgIHZhbHVlID0gQG1vZGVsLl9kYXRhW3BhdGhzWzBdXVxuICAgICNjaGVjayBmb3IgbmVzdGVkIG9iamVjdHNcbiAgICBpZiAkLmlzUGxhaW5PYmplY3QodmFsdWUpXG4gICAgICBpID0gMVxuICAgICAgd2hpbGUgaSA8IHBhdGhzLmxlbmd0aFxuICAgICAgICBpZiAkLmlzUGxhaW5PYmplY3QodmFsdWUpIGFuZCB2YWx1ZVtwYXRoc1tpXV1cbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlW3BhdGhzW2ldXVxuICAgICAgICBlbHNlXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZVtwYXRocy5zcGxpY2UoaSkuam9pbignLicpXVxuICAgICAgICBpKytcbiAgICBlbHNlXG4gICAgICAjZGlyZWN0IGtleSBhY2Nlc3NcbiAgICAgIHZhbHVlID0gQG1vZGVsLl9kYXRhW2FyZ11cbiAgICByZXR1cm4gdmFsdWVcblxuICB0aHJvdyBuZXcgRXJyb3IgJ2FmaW5pdHk6IHVua25vd24gYXJndW1lbnQgZm9yIGdldCdcbiAgcmV0dXJuXG4iLCIjIyNcbiNcbiMgU2V0OiBzZXQgbW9kZWwgYXR0cmlidXRlcyBhbmQgdHJpZ2dlciBjaGFuZ2UgZXZlbnRzXG4jXG4jIFRPRE86IEJyZWFrIGl0IGRvd24gaW50byBzbWFsbCBmdW5jdGlvbnNcbiMgVE9ETzogT3B0aW1pemUgcGVyZm9ybWFuY2UgYnkgcmVtb3ZpbmcgZXh0cmFuZW91cyBvcGVyYXRpb25zXG4jXG4jIyNcblxuIyBVc2luZzogJC5leHRlbmQsICQuaXNQbGFpbk9iamVjdFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbm1vZHVsZS5leHBvcnRzID0gKCBhcmcsIHBhcmFtcywgdGhpcmQgKSAtPlxuXG4gICMgbGlzdCBvZiBtb2RpZmllZCBtb2RlbCBhdHRyaWJ1dGVzXG4gIG1vZGlmaWVkID0gW11cbiAgcHJldmlvdXMgPSB7fVxuXG4gICMgU2V0IGluZGl2aWR1YWwgbW9kZWwgcHJvcGVydHk6IG1vZGVsLnNldCggcHJvcCwgdmFsdWUgKVxuICBpZiB0eXBlb2YgYXJnIGlzICdzdHJpbmcnXG4gICAgYXR0ciA9IGFyZ1xuICAgIGFyZyA9IHt9XG4gICAgaWYgdHlwZW9mIHBhcmFtcyBpcyAnb2JqZWN0JyB0aGVuIGFyZ1thdHRyXSA9ICQuZXh0ZW5kIHt9LCBwYXJhbXNcbiAgICBlbHNlIGFyZ1thdHRyXSA9IHBhcmFtc1xuICAgIHBhcmFtcyA9IHRoaXJkIG9yIHt9XG5cbiAgaWYgdHlwZW9mIGFyZyBpcyBub3QgJ29iamVjdCdcbiAgICB0aHJvdyBuZXcgRXJyb3IgJ2FmaW5pdHkuanM6IHVua25vd24gYXJndW1lbnQgdHlwZSBpbiBtb2RlbC5zZXQoKSdcblxuICBpZiBwYXJhbXMgYW5kIHBhcmFtcy5yZXNldFxuICAgICMgaG9sZCBvbiB0byBvcmlnaW5hbCBkYXRhIGZvciBjaGFuZ2UgZXZlbnRzXG4gICAgX2Nsb25lID0gJC5leHRlbmQge30sIEBtb2RlbC5fZGF0YVxuICAgICMgZXJhc2UgcHJldmlvdXMgbW9kZWwgYXR0cmlidXRlcyB3aXRob3V0IHBvaW50aW5nIHRvIG9iamVjdFxuICAgIEBtb2RlbC5fZGF0YSA9ICQuZXh0ZW5kIHt9LCBhcmdcblxuICBlbHNlXG5cbiAgICAjIGhvbGQgb24gdG8gb3JpZ2luYWwgZGF0YSBmb3IgY2hhbmdlIGV2ZW50c1xuICAgIF9jbG9uZSA9ICQuZXh0ZW5kIHt9LCBAbW9kZWwuX2RhdGFcblxuICAgIGZvciBwcm9wIG9mIGFyZ1xuXG4gICAgICBpZiBwcm9wLmluZGV4T2YoJy4nKSA8IDAgdGhlbiBicmVha1xuICAgICAgcGF0aCA9IHByb3Auc3BsaXQoJy4nKVxuICAgICAgY3VycmVudF9ub2RlID0gQG1vZGVsLl9kYXRhWyBwYXRoWzBdIF0gb3Ige31cblxuICAgICAgIyBAcHVsbCAjOTEgQWRkIHN1cHBvcnQgZm9yIG5lc3RlZCBtb2RlbHNcbiAgICAgICMgSXRlcmF0ZSB0aHJvdWdoIHByb3BlcnRpZXMgYW5kIGZpbmQgbmVzdGVkIGRlY2xhcmF0aW9uc1xuICAgICAgaSA9IDFcbiAgICAgIHdoaWxlIGkgPCBwYXRoLmxlbmd0aCAtIDFcbiAgICAgICAgbmV4dF9ub2RlID0gY3VycmVudF9ub2RlW3BhdGhbaV1dXG4gICAgICAgIGlmICQuaXNQbGFpbk9iamVjdChuZXh0X25vZGUpIHRoZW4gY3VycmVudF9ub2RlID0gbmV4dF9ub2RlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjdXJyZW50X25vZGVbcGF0aFtpXV0gPSB7fVxuICAgICAgICAgIGN1cnJlbnRfbm9kZSA9IGN1cnJlbnRfbm9kZVtwYXRoW2ldXVxuICAgICAgICBpKytcblxuICAgICAgbGFzdF9wcm9wZXJ0eSA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXVxuICAgICAgaWYgJC5pc1BsYWluT2JqZWN0KGFyZ1trZXldKSBhbmQgJC5pc1BsYWluT2JqZWN0KGN1cnJlbnRfbm9kZVtsYXN0X3Byb3BlcnR5XSlcbiAgICAgICAgI2lmIHdlJ3JlIGFzc2lnbmluZyBvYmplY3RzLCBleHRlbmQgcmF0aGVyIHRoYW4gcmVwbGFjZVxuICAgICAgICAkLmV4dGVuZCBjdXJyZW50X25vZGVbbGFzdF9wcm9wZXJ0eV0sIGFyZ1twcm9wXVxuICAgICAgZWxzZSBjdXJyZW50X25vZGVbbGFzdF9wcm9wZXJ0eV0gPSBhcmdbcHJvcF1cblxuICAgICQuZXh0ZW5kIEBtb2RlbC5fZGF0YSwgYXJnXG5cbiAgIyBHaXZlbiBvYmplY3RcbiAgZm9yIGtleSBvZiBhcmdcbiAgICAjIENoZWNrIGlmIGNoYW5nZWRcbiAgICBpZiBAbW9kZWwuX2RhdGFba2V5XSBpc250IF9jbG9uZVtrZXldXG4gICAgICBtb2RpZmllZC5wdXNoIGtleVxuICAgICAgcHJldmlvdXNba2V5XSA9IF9jbG9uZVtrZXldXG4gICAgZGVsZXRlIF9jbG9uZVtrZXldXG5cbiAgIyBQcmV2aW91cyBvYmplY3RcbiAgZm9yIGtleSBvZiBfY2xvbmVcbiAgICAjIENoZWNrIGlmIGNoYW5nZWRcbiAgICBpZiBAbW9kZWwuX2RhdGFba2V5XSBpc250IF9jbG9uZVtrZXldXG4gICAgICBtb2RpZmllZC5wdXNoIGtleVxuICAgICAgcHJldmlvdXNba2V5XSA9IF9jbG9uZVtrZXldXG5cbiAgIyBEb25lLi5cblxuICAjIERvIG5vdCBmaXJlIGV2ZW50c1xuICBpZiBwYXJhbXMgYW5kIHBhcmFtcy5zaWxlbnQgdGhlbiByZXR1cm4gQFxuXG4gICMgVHJpZ2dlciBjaGFuZ2UgZXZlbnRzXG4gICMgQGV4dGVuZCBQYXNzIGFycmF5IG9mIG1vZGlmaWVkIG1vZGVsIGtleXNcbiAgIyAkKCkudHJpZ2dlciBwYXJzZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgYXMgc2VwYXJhdGUgYXJndW1lbnRzLFxuICAjIHNvIHdlIHB1dCBpdCBpbiBhbiBhcnJheVxuICBAdHJpZ2dlciAnY2hhbmdlJywgWyBtb2RpZmllZCwgcHJldmlvdXMgXVxuXG4gIGlmIHBhcmFtcyBhbmQgcGFyYW1zLmRpcmVjdCB0aGVuIGludGVybmFsID0gZmFsc2VcbiAgZWxzZSBpbnRlcmFsID0gdHJ1ZVxuXG4gIGZvciBrZXksIGluZGV4IGluIG1vZGlmaWVkXG4gICAgQHRyaWdnZXIgJ2NoYW5nZTonICsga2V5LCBwcmV2aW91c1trZXldLCBpbnRlcm5hbFxuXG4gIHJldHVybiBAXG4iLCIjIyMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiNcbiMgVmFsaWRhdGUgbW9kZWwgcHJvcGVydGllcyBiYXNlZCBvbiBvYmplY3QucmVxdWlyZWRcbiNcbiMjI1xuXG4jIFVzaW5nOiAkLmlzRW1wdHkgYW5kICQuaXNFbWFpbFxuJCA9IHJlcXVpcmUgJ2pxdWVyeSdcbiR1dGlsID0gcmVxdWlyZSgnLi4vdXRpbC9qcXVlcnkudXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID1cblxuICBpbnZhbGlkOiAtPlxuICAgIGludmFsaWQgPSBbXVxuICAgICMgQ2hlY2sgZWFjaCByZXF1aXJlZCBrZXlcbiAgICBmb3Iga2V5IG9mIEByZXF1aXJlZFxuICAgICAgaWYgIUBtb2RlbC5pc1ZhbGlkS2V5KGtleSlcbiAgICAgICAgaW52YWxpZC5wdXNoIGtleVxuICAgIHJldHVybiBpbnZhbGlkXG5cbiAgaXNWYWxpZDogKGtleSkgLT5cbiAgICBpZiB0eXBlb2Yga2V5ID09ICd1bmRlZmluZWQnXG4gICAgICAjIENoZWNrIHRoZSB3aG9sZSBtb2RlbFxuICAgICAgcmV0dXJuIEBtb2RlbC5pbnZhbGlkKCkubGVuZ3RoIGlzIDBcbiAgICBlbHNlXG4gICAgICByZXR1cm4gQG1vZGVsLmlzVmFsaWRLZXkga2V5XG5cbiAgaXNWYWxpZEtleTogKGtleSkgLT5cbiAgICBpZiB0eXBlb2YgQHJlcXVpcmVkW2tleV0gaXMgJ3VuZGVmaW5lZCdcbiAgICAgIHJldHVybiB0cnVlXG4gICAgdmFsID0gQG1vZGVsLmdldChrZXkpXG4gICAgcmVxdWlyZVR5cGUgPSBAcmVxdWlyZWRba2V5XVxuICAgIGlmIHJlcXVpcmVUeXBlIGlzIHRydWVcbiAgICAgIHJldHVybiAhJC5pc0VtcHR5KHZhbClcbiAgICBlbHNlIGlmIHJlcXVpcmVUeXBlIGlzICdlbWFpbCdcbiAgICAgIHJldHVybiAkLmlzRW1haWwodmFsKVxuICAgIGVsc2VcbiAgICAgICMgT3RoZXIgdHlwZXMgb2YgcmVxdWlyZWQ6IGJvb2xlYW4sIGNoZWNrZWQsIGN1c3RvbSBjb25kaXRpb24uLj9cbiAgICByZXR1cm4gdHJ1ZVxuICAgICMgUGFzc2VkIGFsbCByZXF1aXJlbWVudHNcbiIsIiMjIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuI1xuIyBNb2RlbCBBUElcbiNcbiMgZ2V0XG4jIHNldFxuIyByZXNldFxuIyBzaXplXG4jIGVhY2hcbiNcbiMgaW52YWxpZFxuIyBpc1ZhbGlkXG4jIGlzVmFsaWRLZXlcbiNcbiMjI1xuXG4jIFVzaW5nOiAkLmVhY2gsICQuZXh0ZW5kIGFuZCAkLnByb3h5XG4kID0gcmVxdWlyZSAnanF1ZXJ5J1xudXRpbCA9IHJlcXVpcmUgJy4uL3V0aWwnXG5tb2RlbFZhbGlkYXRlID0gcmVxdWlyZSAnLi9tb2RlbC12YWxpZGF0ZSdcblxubW9kZWwgPVxuXG4gIGdldDogcmVxdWlyZSAnLi9tb2RlbC1nZXQnXG5cbiAgc2V0OiByZXF1aXJlICcuL21vZGVsLXNldCdcblxuICByZXNldDogKCBvYmogKSAtPlxuICAgIGlmIG5vdCBvYmogdGhlbiBvYmogPSBAbW9kZWwuX2luaXREYXRhXG4gICAgQG1vZGVsLnNldCBvYmosIHJlc2V0OiB0cnVlXG4gICAgcmV0dXJuIEBcblxuICBzaXplOiAtPlxuICAgIHV0aWwuc2l6ZSBAbW9kZWwuX2RhdGFcblxuICBlYWNoOiAoZm4pIC0+XG4gICAgIyBQcm94eSB0aGlzIG9iamVjdFxuICAgICQuZWFjaCBAbW9kZWwuX2RhdGEsICQucHJveHkgZm4sIEBcbiAgICByZXR1cm4gQFxuXG5tb2R1bGUuZXhwb3J0cyA9ICQuZXh0ZW5kIG1vZGVsLCBtb2RlbFZhbGlkYXRlXG4iLCIjIyNcbiNcbiMgVmlldyBiaW5kaW5nc1xuI1xuIyAgQXBwbHkgRE9NIDwtPiBNb2RlbCBiaW5kaW5ncywgZnJvbSBlbGVtZW50cyB3aXRoICdkYXRhLWJpbmQnIGF0dHJpYnV0ZXNcbiNcbiMgVE9ETzogUmVwbGFjZSBzZWxmIHdpdGggPT4gYW5kIEBcbiNcbiMjI1xuXG4jIFVzaW5nOiBET00gZXZlbnRzIGFuZCBtZXRob2RzXG4kID0gcmVxdWlyZSAnanF1ZXJ5J1xuXG4jIyNcbiNcbiMgUGFyc2UgZGF0YS1iaW5kIHN0cmluZ1xuI1xuIyBTeW50YXg6J1thdHRyaWJ1dGVdWz1dIHZhcmlhYmxlWywgW2F0dHJpYnV0ZV1bPV0gdmFyaWFibGUgXS4uLidcbiNcbiMgQWxsIHBhaXJzIGluIHRoZSBsaXN0IGFyZSBhc3N1bWVkIHRvIGJlIGF0dHJpYnV0ZXNcbiMgSWYgdGhlIHZhcmlhYmxlIGlzIG5vdCBhbiBhdHRyaWJ1dGUsIGl0IG11c3Qgb2NjdXIgYnkgaXRzZWxmXG4jXG4jIFJldHVybnMgeyBrZXk6J21vZGVsIGtleScsIGF0dHI6IFsge2F0dHIgOiAnYXR0cmlidXRlJywgYXR0clZhciA6ICd2YXJpYWJsZScgfS4uLiBdIH1cbiNcbiMjI1xuXG5fcGFyc2VCaW5kU3RyID0gKHN0cikgLT5cbiAgb2JqID1cbiAgICBrZXk6IG51bGxcbiAgICBhdHRyOiBbXVxuICBwYWlycyA9IHN0ci5zcGxpdCgnLCcpXG4gIHJlZ2V4ID0gLyhbYS16QS1aMC05X1xcLVxcLl0rKSg/OltcXHM9XSsoW2EtekEtWjAtOV9cXC1dKykpPy9cbiAga2V5QXNzaWduZWQgPSBmYWxzZVxuICBtYXRjaGVkID0gdW5kZWZpbmVkXG4gIGlmIHBhaXJzLmxlbmd0aCA+IDBcbiAgICBpID0gMFxuICAgIHdoaWxlIGkgPCBwYWlycy5sZW5ndGhcbiAgICAgIG1hdGNoZWQgPSBwYWlyc1tpXS5tYXRjaChyZWdleClcblxuICAgICAgIyBbIFwiYXR0cmlidXRlIHZhcmlhYmxlXCIsIFwiYXR0cmlidXRlXCIsIFwidmFyaWFibGVcIiBdXG4gICAgICAjIG9yIFsgXCJhdHRyaWJ1dGU9dmFyaWFibGVcIiwgXCJhdHRyaWJ1dGVcIiwgXCJ2YXJpYWJsZVwiIF1cbiAgICAgICMgb3IgWyBcInZhcmlhYmxlXCIsIFwidmFyaWFibGVcIiwgdW5kZWZpbmVkIF1cbiAgICAgICMgaW4gc29tZSBJRSBpdCB3aWxsIGJlIFsgXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlXCIsIFwiXCIgXVxuICAgICAgIyBvciBudWxsXG4gICAgICBpZiBtYXRjaGVkXG4gICAgICAgIGlmIHR5cGVvZiBtYXRjaGVkWzJdID09ICd1bmRlZmluZWQnIG9yIG1hdGNoZWRbMl0gPT0gJydcbiAgICAgICAgICBpZiBrZXlBc3NpZ25lZFxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IHNwZWNpZnkgb25seSBvbmUga2V5ICgnICsga2V5QXNzaWduZWQgKyAnIGhhcyBhbHJlYWR5IGJlZW4gc3BlY2lmaWVkIGluIGRhdGEtYmluZD0nICsgc3RyICsgJyknKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGtleUFzc2lnbmVkID0gbWF0Y2hlZFsxXVxuICAgICAgICAgICAgb2JqLmtleSA9IG1hdGNoZWRbMV1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIG9iai5hdHRyLnB1c2hcbiAgICAgICAgICAgIGF0dHI6IG1hdGNoZWRbMV1cbiAgICAgICAgICAgIGF0dHJWYXI6IG1hdGNoZWRbMl1cbiAgICAgICMgRW5kOiBpZiAobWF0Y2hlZClcbiAgICAgIGkrK1xuICAgICMgRW5kOiBmb3IgKHBhaXJzLmxlbmd0aClcbiAgIyBFbmQ6IGlmIChwYWlycy5sZW5ndGggPiAwKVxuICByZXR1cm4gb2JqXG5cbm1vZHVsZS5leHBvcnRzID0gLT5cbiAgc2VsZiA9IHRoaXMgIyBSZWZlcmVuY2UgdG8gb2JqZWN0XG4gICRyb290Tm9kZSA9IEB2aWV3LiQoKS5maWx0ZXIoJ1tkYXRhLWJpbmRdJylcbiAgJGNoaWxkTm9kZXMgPSBAdmlldy4kKCdbZGF0YS1iaW5kXScpXG5cbiAgY3JlYXRlQXR0cmlidXRlUGFpckNsb3N1cmUgPSAoYmluZERhdGEsIG5vZGUsIGkpIC0+XG4gICAgYXR0clBhaXIgPSBiaW5kRGF0YS5hdHRyW2ldXG4gICAgIyBjYXB0dXJlIHRoZSBhdHRyaWJ1dGUgcGFpciBpbiBjbG9zdXJlXG4gICAgcmV0dXJuIC0+XG4gICAgICBpZiBhdHRyUGFpci5hdHRyIGlzICdodG1sJ1xuICAgICAgICAjIEFsbG93IGluc2VydGluZyBIVE1MIGNvbnRlbnRcbiAgICAgICAgbm9kZS5odG1sIHNlbGYubW9kZWwuZ2V0KGF0dHJQYWlyLmF0dHJWYXIpXG4gICAgICBlbHNlXG4gICAgICAgICMgTm9ybWFsIGVsZW1lbnQgYXR0cmlidXRlc1xuICAgICAgICBub2RlLmF0dHIgYXR0clBhaXIuYXR0ciwgc2VsZi5tb2RlbC5nZXQoYXR0clBhaXIuYXR0clZhcilcbiAgICAgIHJldHVyblxuXG4gICRyb290Tm9kZS5hZGQoJGNoaWxkTm9kZXMpLmVhY2ggLT5cblxuICAgICRub2RlID0gJCh0aGlzKVxuICAgIGJpbmREYXRhID0gX3BhcnNlQmluZFN0ciAkbm9kZS5kYXRhKCdiaW5kJykgb3IgJydcbiAgICByZXF1aXJlZCA9ICRub2RlLmRhdGEoJ3JlcXVpcmVkJylcbiAgICAjIGRhdGEtcmVxdWlyZWRcblxuICAgIGJpbmRBdHRyaWJ1dGVzT25lV2F5ID0gLT5cbiAgICAgICMgMS13YXkgYXR0cmlidXRlIGJpbmRpbmdcbiAgICAgIGlmIGJpbmREYXRhLmF0dHJcbiAgICAgICAgaSA9IDBcbiAgICAgICAgd2hpbGUgaSA8IGJpbmREYXRhLmF0dHIubGVuZ3RoXG4gICAgICAgICAgc2VsZi5iaW5kICdfY2hhbmdlOicgKyBiaW5kRGF0YS5hdHRyW2ldLmF0dHJWYXIsIGNyZWF0ZUF0dHJpYnV0ZVBhaXJDbG9zdXJlKGJpbmREYXRhLCAkbm9kZSwgaSlcbiAgICAgICAgICBpKytcbiAgICAgICAgIyBmb3IgKGJpbmREYXRhLmF0dHIpXG4gICAgICAjIGlmIChiaW5kRGF0YS5hdHRyKVxuICAgICAgcmV0dXJuXG5cbiAgICBpZiBiaW5kRGF0YS5rZXlcblxuICAgICAgIyMjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAjXG4gICAgICAjIElucHV0IHR5cGVzXG4gICAgICAjXG4gICAgICAjIyNcblxuICAgICAgIyA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+OiAyLXdheSBiaW5kaW5nXG4gICAgICBpZiAkbm9kZS5pcygnaW5wdXQ6Y2hlY2tib3gnKVxuICAgICAgICAjIE1vZGVsIC0tPiBET01cbiAgICAgICAgc2VsZi5iaW5kICdfY2hhbmdlOicgKyBiaW5kRGF0YS5rZXksIC0+XG4gICAgICAgICAgJG5vZGUucHJvcCAnY2hlY2tlZCcsIHNlbGYubW9kZWwuZ2V0IGJpbmREYXRhLmtleVxuICAgICAgICAjIERPTSAtLT4gTW9kZWxcbiAgICAgICAgJG5vZGUuY2hhbmdlIC0+XG4gICAgICAgICAgc2VsZi5tb2RlbC5zZXQgYmluZERhdGEua2V5LCAkbm9kZS5wcm9wKCdjaGVja2VkJyksIGRpcmVjdDp0cnVlXG5cbiAgICAgIGVsc2UgaWYgJG5vZGUuaXMoJ3NlbGVjdCcpXG4gICAgICAgICMgTW9kZWwgLS0+IERPTVxuICAgICAgICBzZWxmLmJpbmQgJ19jaGFuZ2U6JyArIGJpbmREYXRhLmtleSwgLT5cbiAgICAgICAgICAkbm9kZS52YWwgc2VsZi5tb2RlbC5nZXQgYmluZERhdGEua2V5XG4gICAgICAgICMgRE9NIC0tPiBNb2RlbFxuICAgICAgICAkbm9kZS5jaGFuZ2UgLT5cbiAgICAgICAgICBzZWxmLm1vZGVsLnNldCBiaW5kRGF0YS5rZXksICRub2RlLnZhbCgpLCBkaXJlY3Q6dHJ1ZVxuXG4gICAgICBlbHNlIGlmICRub2RlLmlzKCdpbnB1dDpyYWRpbycpXG4gICAgICAgICMgTW9kZWwgLS0+IERPTVxuICAgICAgICBzZWxmLmJpbmQgJ19jaGFuZ2U6JyArIGJpbmREYXRhLmtleSwgLT5cbiAgICAgICAgICAjIEJpbmRpbmcgZm9yIHJhZGlvIGJ1dHRvbnM6IHRoZXkncmUgbm90IGFsd2F5cyBzaWJsaW5ncywgc28gc3RhcnQgZnJvbSAkcm9vdFxuICAgICAgICAgIHNlbGYudmlldy4kcm9vdFxuICAgICAgICAgICAgLmZpbmQoJ2lucHV0W25hbWU9XCInICsgICRub2RlLmF0dHIoJ25hbWUnKSArICdcIl0nKVxuICAgICAgICAgICAgLmZpbHRlcignW3ZhbHVlPVwiJyArIHNlbGYubW9kZWwuZ2V0KGJpbmREYXRhLmtleSkgKyAnXCJdJylcbiAgICAgICAgICAgIC5wcm9wICdjaGVja2VkJywgdHJ1ZVxuICAgICAgICAjIERPTSAtLT4gTW9kZWxcbiAgICAgICAgJG5vZGUuY2hhbmdlIC0+XG4gICAgICAgICAgIyBvbmx5IGhhbmRsZSBjaGVjaz10cnVlIGV2ZW50c1xuICAgICAgICAgIGlmICEkbm9kZS5wcm9wKCdjaGVja2VkJykgdGhlbiByZXR1cm5cbiAgICAgICAgICBzZWxmLm1vZGVsLnNldCBiaW5kRGF0YS5rZXksICRub2RlLnZhbCgpLCBkaXJlY3Q6dHJ1ZVxuXG4gICAgICBlbHNlIGlmICRub2RlLmlzKCdpbnB1dDp0ZXh0LCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT1cInNlYXJjaFwiXScpXG4gICAgICAgICMgTW9kZWwgLS0+IERPTVxuICAgICAgICBzZWxmLmJpbmQgJ19jaGFuZ2U6JyArIGJpbmREYXRhLmtleSwgLT5cbiAgICAgICAgICAkbm9kZS52YWwgc2VsZi5tb2RlbC5nZXQoYmluZERhdGEua2V5KVxuICAgICAgICAjIE1vZGVsIDwtLSBET01cbiAgICAgICAgJG5vZGUua2V5dXAgLT4gIyBpbnN0ZWFkIG9mICRub2RlLmNoYW5nZSAtPlxuICAgICAgICAgICMgV2l0aG91dCB0aW1lb3V0LCAkbm9kZS52YWwoKSBtaXNzZXMgdGhlIGxhc3QgZW50ZXJlZCBjaGFyYWN0ZXJcbiAgICAgICAgICBzZXRUaW1lb3V0IC0+XG4gICAgICAgICAgICBzZWxmLm1vZGVsLnNldCBiaW5kRGF0YS5rZXksICRub2RlLnZhbCgpLCBkaXJlY3Q6dHJ1ZVxuICAgICAgICAgICwgNTBcbiAgICAgICAgICByZXR1cm5cbiAgICAgIGVsc2VcbiAgICAgICAgIyBOb3QgYW4gaW5wdXQgZWxlbWVudFxuICAgICAgICAjIE1vZGVsIC0tPiBET01cbiAgICAgICAgc2VsZi5iaW5kICdfY2hhbmdlOicgKyBiaW5kRGF0YS5rZXksID0+XG4gICAgICAgICAga2V5ID0gc2VsZi5tb2RlbC5nZXQgYmluZERhdGEua2V5XG4gICAgICAgICAgaWYga2V5IG9yIGtleSBpcyAwIHRoZW4gJG5vZGUudGV4dCBzZWxmLm1vZGVsLmdldChiaW5kRGF0YS5rZXkpLnRvU3RyaW5nKClcbiAgICAgICAgICBlbHNlICRub2RlLnRleHQgJydcbiAgICAgICAgICByZXR1cm5cblxuICAgICAgIyBFbmQ6IGlucHV0IHR5cGVzXG4gICAgIyBFbmQ6IGlmIGJpbmREYXRhLmtleVxuXG4gICAgIyBNb2RlbCAtPiBET00gYXR0cmlidXRlc1xuICAgIGJpbmRBdHRyaWJ1dGVzT25lV2F5KClcblxuICAgICMgQ3VzdG9tIGJpbmRpbmdzXG4gICAgYmluZERhdGEuYXR0ci5mb3JFYWNoIChwYWlyLCBpbmRleCkgLT5cbiAgICAgICMgS2V5dXBcbiAgICAgIGlmIHBhaXIuYXR0ciBpcyAna2V5dXAnXG4gICAgICAgICRub2RlLmtleXVwIC0+XG4gICAgICAgICAgIyB0aW1lb3V0IHRvIG1ha2Ugc3VyZSB0byBnZXQgbGFzdCBlbnRlcmVkIGNoYXJhY3RlclxuICAgICAgICAgIHNldFRpbWVvdXQgKC0+XG4gICAgICAgICAgICBzZWxmLm1vZGVsLnNldCBwYWlyLmF0dHJWYXIsICRub2RlLnZhbCgpXG4gICAgICAgICAgICAjIGZpcmVzIGV2ZW50XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICApLCA1MFxuICAgICAgICAgIHJldHVyblxuICAgICAgICAjIE1vZGVsIC0+IFZpZXdcbiAgICAgICAgc2VsZi5iaW5kICdfY2hhbmdlOicgKyBwYWlyLmF0dHJWYXIsIC0+XG4gICAgICAgICAgJG5vZGUudmFsIHNlbGYubW9kZWwuZ2V0KHBhaXIuYXR0clZhcilcbiAgICAgICAgICByZXR1cm5cblxuICAgICAgIyBWaXNpYmxlXG4gICAgICBlbHNlIGlmIHBhaXIuYXR0ciBpcyAndmlzaWJsZSdcbiAgICAgICAgIyBJZiBwcm9wIGlzIHRydWUgdGhlbiBtYWtlIHZpc2libGVcbiAgICAgICAgIyBNb2RlbCAtPiBWaWV3XG4gICAgICAgIHNlbGYuYmluZCAnX2NoYW5nZTonICsgcGFpci5hdHRyVmFyLCAtPlxuICAgICAgICAgIGlmIHNlbGYubW9kZWwuZ2V0KHBhaXIuYXR0clZhcikgdGhlbiAkbm9kZS5zaG93KClcbiAgICAgICAgICBlbHNlICRub2RlLmhpZGUoKVxuICAgICAgICAgIHJldHVyblxuICAgICAgZWxzZVxuICAgICAgICAjIFRPRE86IEV4dGVuc2libGUgY3VzdG9tIGJpbmRpbmdzXG4gICAgICByZXR1cm5cblxuICAgICMgU3RvcmUgYmluZGluZyBtYXAgZm9yIGxhdGVyIHJlZmVyZW5jZVxuICAgIHNlbGYuJG5vZGVbYmluZERhdGEua2V5XSA9ICRub2RlXG4gICAgIyBNb2RlbCBwcm9wZXJ0eSAtPiBlbGVtZW50XG4gICAgc2VsZi5rZXlbJG5vZGVdID0gYmluZERhdGEua2V5XG5cbiAgICAjIEVsZW1lbnQgLT4gTW9kZWwgcHJvcGVydHlcbiAgICBpZiByZXF1aXJlZCB0aGVuIHNlbGYucmVxdWlyZWRbYmluZERhdGEua2V5XSA9IHJlcXVpcmVkXG5cbiAgICByZXR1cm5cblxuICAjIG5vZGVzLmVhY2goKVxuICByZXR1cm4gQFxuIiwiIyMjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jXG4jIFZpZXcgQVBJXG4jXG4jIHZpZXcuZm9ybWF0XG4jIHZpZXcuc3R5bGVcbiMgdmlldy4kXG4jIHJlbmRlclxuIyBiaW5kaW5nc1xuIyBzeW5jXG4jIHN0eWxpemVcbiMgJGJvdW5kXG4jXG4jIyNcblxuIyBVc2luZzogalF1ZXJ5IG9iamVjdCwgaHRtbCwgYWRkQ2xhc3MsIHNpemUsIGFwcGVuZFxuJCA9IHJlcXVpcmUgJ2pxdWVyeSdcbnZpZXdCaW5kID0gcmVxdWlyZSgnLi92aWV3LWJpbmQnKVxuXG4jIEFsc28gaW4gcHJvdG90eXBlL2V2ZW50cy5qc1xuUk9PVF9TRUxFQ1RPUiA9ICcmJ1xuXG5tb2R1bGUuZXhwb3J0cyA9XG5cbiAgZm9ybWF0OiAnPGRpdi8+J1xuXG4gIHN0eWxlOiAnJ1xuXG4gICQ6IChzZWxlY3RvcikgLT5cbiAgICBpZiAhc2VsZWN0b3Igb3Igc2VsZWN0b3IgPT0gUk9PVF9TRUxFQ1RPUlxuICAgICAgcmV0dXJuIEB2aWV3LiRyb290XG4gICAgZWxzZVxuICAgICAgQHZpZXcuJHJvb3QuZmluZChzZWxlY3RvcilcblxuICByZW5kZXI6IC0+XG4gICAgIyBXaXRob3V0IGZvcm1hdCB0aGVyZSBpcyBubyB2aWV3XG4gICAgaWYgQHZpZXcuZm9ybWF0Lmxlbmd0aCBpcyAwXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgJ2FmaW5pdHk6IGVtcHR5IGZvcm1hdCBpbiB2aWV3LnJlbmRlcigpJ1xuICAgIGlmIEB2aWV3LiRyb290IGluc3RhbmNlb2YgalF1ZXJ5IGFuZCBAX3RlbXBsYXRlXG4gICAgICAjICRyb290IGlzIGZyb20gRE9NIGFscmVhZHlcbiAgICBlbHNlIGlmIEB2aWV3LiRyb290LnNpemUoKSBpcyAwXG4gICAgICBAdmlldy4kcm9vdCA9ICQoQHZpZXcuZm9ybWF0KVxuICAgIGVsc2VcbiAgICAgICMgZG9uJ3Qgb3ZlcndyaXRlICRyb290IGFzIHRoaXMgd291bGQgcmVzZXQgaXRzIHByZXNlbmNlIGluIHRoZSBET01cbiAgICAgICMgYW5kIGFsbCBldmVudHMgYWxyZWFkeSBib3VuZFxuICAgICAgQHZpZXcuJHJvb3QuaHRtbCAkKEB2aWV3LmZvcm1hdCkuaHRtbCgpXG4gICAgIyBFbnN1cmUgd2UgaGF2ZSBhIHZhbGlkIChub24tZW1wdHkpICRyb290XG4gICAgaWYgIShAdmlldy4kcm9vdCBpbnN0YW5jZW9mIGpRdWVyeSkgYW5kIEB2aWV3LiRyb290LnNpemUoKSBpcyAwXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgJ2FmaW5pdHk6IGNvdWxkIG5vdCBnZW5lcmF0ZSBodG1sIGZyb20gZm9ybWF0J1xuICAgIEAkdmlldyA9IEB2aWV3LiRyb290XG4gICAgQCQgPSBAdmlldy4kXG4gICAgcmV0dXJuIEBcblxuICBiaW5kaW5nczogdmlld0JpbmRcblxuICBzeW5jOiAtPlxuICAgICMgVHJpZ2dlciBjaGFuZ2UgZXZlbnRzIHNvIHRoYXQgdmlldyBpcyB1cGRhdGVkIGFjY29yZGluZyB0byBtb2RlbFxuICAgIEBtb2RlbC5lYWNoIChrZXksIHZhbCkgPT4gQHRyaWdnZXIgJ19jaGFuZ2U6JyArIGtleVxuICAgIGlmIEBtb2RlbC5zaXplKCkgPiAwIHRoZW4gQHRyaWdnZXIgJ19jaGFuZ2UnXG4gICAgcmV0dXJuIEBcblxuICBzdHlsaXplOiAtPlxuXG4gICAgaWYgQHZpZXcuc3R5bGUubGVuZ3RoID09IDAgb3IgQHZpZXcuJCgpLnNpemUoKSA9PSAwIHRoZW4gcmV0dXJuXG5cbiAgICByZWdleCA9IG5ldyBSZWdFeHAoUk9PVF9TRUxFQ1RPUiwgJ2cnKVxuICAgICMgT3duIHN0eWxlXG4gICAgIyBPYmplY3QgZ2V0cyBvd24gY2xhc3MgbmFtZSBcIi5hZmluaXR5XzEyM1wiLCBhbmQgPGhlYWQ+IGdldHMgYSBjb3JyZXNwb25kaW5nIDxzdHlsZT5cbiAgICBpZiBAdmlldy5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKVxuICAgICAgb2JqQ2xhc3MgPSAnYWZpbml0eV8nICsgQF9pZFxuICAgICAgc3R5bGVTdHIgPSBAdmlldy5zdHlsZS5yZXBsYWNlKHJlZ2V4LCAnLicgKyBvYmpDbGFzcylcbiAgICAgICMgQWRkIElEIHNvIGxhdGVyIHdlIGNhbiByZW1vdmUgZ2VuZXJhdGVkIHN0eWxlIHVwb24gZGVzdHJ1Y3Rpb24gb2Ygb2JqZWN0XG4gICAgICAkKCdoZWFkJywgd2luZG93LmRvY3VtZW50KS5hcHBlbmQgXCJcIlwiXG4gICAgICAgIDxzdHlsZSBpZD1cIiN7b2JqQ2xhc3N9XCIgdHlwZT1cInRleHQvY3NzXCI+I3tzdHlsZVN0cn08L3N0eWxlPlxuICAgICAgXCJcIlwiXG4gICAgICBAdmlldy4kKCkuYWRkQ2xhc3Mgb2JqQ2xhc3NcblxuICAgIGVsc2VcblxuICAgICAgIyBSZXR1cm5zIGlkIG9mIGZpcnN0IGFuY2VzdG9yIHRvIGhhdmUgJ293bicgdmlldy5zdHlsZVxuICAgICAgYW5jZXN0b3JXaXRoU3R5bGUgPSAob2JqZWN0KSAtPlxuICAgICAgICB3aGlsZSBvYmplY3QgaXNudCBudWxsXG4gICAgICAgICAgb2JqZWN0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdClcbiAgICAgICAgICBpZiBvYmplY3Qudmlldy5oYXNPd25Qcm9wZXJ0eSgnc3R5bGUnKSB0aGVuIHJldHVybiBvYmplY3QuX2lkXG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcblxuICAgICAgIyBhbmNlc3RvcldpdGhTdHlsZVxuICAgICAgYW5jZXN0b3JJZCA9IGFuY2VzdG9yV2l0aFN0eWxlKHRoaXMpXG4gICAgICBvYmpDbGFzcyA9ICdhZmluaXR5XycgKyBhbmNlc3RvcklkXG4gICAgICBAdmlldy4kKCkuYWRkQ2xhc3Mgb2JqQ2xhc3NcblxuICAgIHJldHVybiBAXG5cbiAgJGJvdW5kOiAoa2V5KSAtPlxuXG4gICAgaWYgQCRub2RlW2tleV0/IHRoZW4gQCRub2RlW2tleV0gZWxzZSBmYWxzZVxuIiwiIyMjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jXG4jIF9jb250YWluZXJcbiNcbiMgQVBJIGFuZCByZWxhdGVkIGF1eGlsaWFyeSBmdW5jdGlvbnMgZm9yIHN0b3JpbmcgY2hpbGQgQWZpbml0eSBvYmplY3RzLlxuIyBOb3QgYWxsIG1ldGhvZHMgYXJlIGV4cG9zZWQuIFNlZSAnc2hvcnRjdXRzJyBiZWxvdyBmb3IgZXhwb3NlZCBtZXRob2RzLlxuI1xuIyMjXG5cbiMgVXNpbmc6ICQuZWFjaFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG51dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpXG5cbm1vZHVsZS5leHBvcnRzID1cblxuICBfaW5zZXJ0T2JqZWN0OiAoIG9iaiwgc2VsZWN0b3IsIG1ldGhvZCwgYXJncyApIC0+XG5cbiAgICBpZiB0eXBlb2Ygb2JqIGlzICdzdHJpbmcnXG4gICAgICAjIHN3aXRjaCBhcmdzOiBzZWxlY3Rvciwgb2JqLCBtZXRob2RcbiAgICAgIHRtcCA9IG9iajsgb2JqID0gc2VsZWN0b3I7IHNlbGVjdG9yID0gdG1wXG4gICAgZWxzZSBpZiB0eXBlb2Ygb2JqIGlzICdvYmplY3QnIGFuZCB0eXBlb2Ygc2VsZWN0b3IgaXMgJ29iamVjdCdcbiAgICAgICMgbm8gc2VsZWN0b3IsIGp1c3QgYSBsaXN0IG9mIG9iamVjdHNcbiAgICAgIGFyZ3MgPz0gW11cbiAgICAgIGFyZ3MudW5zaGlmdCBzZWxlY3RvciAjIHB1c2ggYXQgYmVnaW5uaW5nIG9mIGFycmF5XG4gICAgICBzZWxlY3RvciA9ICcnXG5cbiAgICBpZiBub3QgdXRpbC5pc0FmaW5pdHkob2JqKVxuICAgICAgdGhyb3cgbmV3IEVycm9yICdhZmluaXR5LmpzOiBhcHBlbmQgYXJndW1lbnQgaXMgbm90IGFuIGFmaW5pdHkgb2JqZWN0J1xuXG4gICAgIyBjaGlsZHJlbiBpcyBvYmplY3Qgd2l0aCBpZCBoYXNoXG4gICAgQF9jb250YWluZXIuY2hpbGRyZW5bb2JqLl9pZF0gPSBvYmpcbiAgICBAdHJpZ2dlciBtZXRob2QsIFsgb2JqLCBzZWxlY3RvciBdXG4gICAgb2JqLl9wYXJlbnQgPSBAXG5cbiAgICAjIGVuc3VyZXMgb2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBjb250YWluZXIgd2hlbiBkZXN0cm95ZWQ6XG4gICAgb2JqLmJpbmQgJ2Rlc3Ryb3knLCAoIGlkICkgPT5cbiAgICAgIEBfY29udGFpbmVyLnJlbW92ZSBpZFxuICAgICAgIyBSZXR1cm4gZW1wdHlcbiAgICAgIHJldHVyblxuXG4gICAgIyBUcmlnZ2VyIGV2ZW50IGZvciBjaGlsZCB0byBsaXN0ZW4gdG9cbiAgICBvYmoudHJpZ2dlciAncGFyZW50OicgKyBtZXRob2RcblxuICAgICMgRG8gdGhlIHNhbWUgZm9yIGEgbGlzdCBvZiBvYmogaW4gYXJnc1xuICAgIGlmIGFyZ3M/IHRoZW4gQFttZXRob2RdIGFyZywgc2VsZWN0b3IgZm9yIGFyZyBpbiBhcmdzXG5cbiAgICByZXR1cm4gQFxuXG4gIGFwcGVuZDogKG9iaiwgc2VsZWN0b3IsIGFyZ3MuLi4pIC0+XG4gICAgQF9jb250YWluZXIuX2luc2VydE9iamVjdC5jYWxsIEAsIG9iaiwgc2VsZWN0b3IsICdhcHBlbmQnLCBhcmdzXG4gIHByZXBlbmQ6IChvYmosIHNlbGVjdG9yLCBhcmdzLi4uKSAtPlxuICAgIEBfY29udGFpbmVyLl9pbnNlcnRPYmplY3QuY2FsbCBALCBvYmosIHNlbGVjdG9yLCAncHJlcGVuZCdcbiAgYWZ0ZXI6IChvYmosIHNlbGVjdG9yLCBhcmdzLi4uKSAtPlxuICAgIEBfY29udGFpbmVyLl9pbnNlcnRPYmplY3QuY2FsbCBALCBvYmosIHNlbGVjdG9yLCAnYWZ0ZXInXG4gIGJlZm9yZTogKG9iaiwgc2VsZWN0b3IsIGFyZ3MuLi4pIC0+XG4gICAgQF9jb250YWluZXIuX2luc2VydE9iamVjdC5jYWxsIEAsIG9iaiwgc2VsZWN0b3IsICdiZWZvcmUnXG4gIHJlbW92ZTogKGlkKSAtPlxuICAgIGRlbGV0ZSBAX2NvbnRhaW5lci5jaGlsZHJlbltpZF1cbiAgICBAdHJpZ2dlciAncmVtb3ZlJywgaWRcbiAgICByZXR1cm4gQFxuICBlYWNoOiAoZm4pIC0+XG4gICAgJC5lYWNoIEBfY29udGFpbmVyLmNoaWxkcmVuLCBmblxuICAgIHJldHVybiBAXG4gIGVtcHR5OiAtPlxuICAgIEBlYWNoIC0+IEBkZXN0cm95KClcbiAgICByZXR1cm4gQFxuICBzaXplOiAtPlxuICAgIHJldHVybiB1dGlsLnNpemUgQF9jb250YWluZXIuY2hpbGRyZW5cbiIsIiMjI1xuI1xuIyBfZXZlbnRzIEFQSSBhbmQgYXV4aWxpYXJ5IGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgZXZlbnRzXG4jXG4jIyNcblxuIyBVc2luZzogJC5kYXRhLCBmaW5kLCBvbiwgdHJpZ2dlclxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbiMgQWxzbyBpbiBtdmMvdmlldy5qc1xuUk9PVF9TRUxFQ1RPUiA9ICcmJ1xuXG4jIyNcbiNcbiMgUGFyc2UgZXZlbnQgc3RyaW5nXG4jXG4jICdldmVudCcgICAgICAgICAgOiBjdXN0b20gZXZlbnRcbiMgJ2V2ZW50IHNlbGVjdG9yJyA6IERPTSBldmVudCB1c2luZyAnc2VsZWN0b3InXG4jXG4jIFJldHVybnMgeyB0eXBlOidldmVudCcgWywgc2VsZWN0b3I6J3NlbGVjdG9yJ10gfVxuI1xuIyMjXG5cbnBhcnNlRXZlbnRTdHIgPSAoZXZlbnRTdHIpIC0+XG4gIGV2ZW50T2JqID0gdHlwZTogZXZlbnRTdHJcbiAgc3BhY2VQb3MgPSBldmVudFN0ci5zZWFyY2goL1xccy8pXG4gICMgRE9NIGV2ZW50ICdldmVudCBzZWxlY3RvcicsIGUuZy4gJ2NsaWNrIGJ1dHRvbidcbiAgaWYgc3BhY2VQb3MgPiAtMVxuICAgIGV2ZW50T2JqLnR5cGUgPSBldmVudFN0ci5zdWJzdHIoMCwgc3BhY2VQb3MpXG4gICAgZXZlbnRPYmouc2VsZWN0b3IgPSBldmVudFN0ci5zdWJzdHIoc3BhY2VQb3MgKyAxKVxuICBlbHNlIGlmIGV2ZW50U3RyIGluIFsnY2xpY2snLCAnc3VibWl0JywgJ2tleXVwJywgJ2tleWRvd24nXVxuICAgICMgQGV4dGVuZCBTaG9ydGN1dCBmb3IgJ2NsaWNrICYnLCAnc3VibWl0ICYnLCBldGMuXG4gICAgZXZlbnRPYmoudHlwZSA9IGV2ZW50U3RyXG4gICAgZXZlbnRPYmouc2VsZWN0b3IgPSBST09UX1NFTEVDVE9SXG4gIHJldHVybiBldmVudE9ialxuXG4jIFJldmVyc2VzIHRoZSBvcmRlciBvZiBldmVudHMgYXR0YWNoZWQgdG8gYW4gb2JqZWN0XG5cbnJldmVyc2VFdmVudHMgPSAob2JqLCBldmVudFR5cGUpIC0+XG4gIGV2ZW50cyA9ICQob2JqKS5kYXRhKCdldmVudHMnKVxuICBpZiBldmVudHMgIT0gdW5kZWZpbmVkIGFuZCBldmVudHNbZXZlbnRUeXBlXSAhPSB1bmRlZmluZWRcbiAgICAjIGNhbid0IHJldmVyc2Ugd2hhdCdzIG5vdCB0aGVyZVxuICAgIHJldmVyc2VkRXZlbnRzID0gW11cbiAgICBmb3IgZSBvZiBldmVudHNbZXZlbnRUeXBlXVxuICAgICAgaWYgIWV2ZW50c1tldmVudFR5cGVdLmhhc093blByb3BlcnR5KGUpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICByZXZlcnNlZEV2ZW50cy51bnNoaWZ0IGV2ZW50c1tldmVudFR5cGVdW2VdXG4gICAgZXZlbnRzW2V2ZW50VHlwZV0gPSByZXZlcnNlZEV2ZW50c1xuICByZXR1cm5cblxubW9kdWxlLmV4cG9ydHMgPVxuXG4gIGJpbmQ6ICggZXZlbnRTdHIsIGZuICkgLT5cblxuICAgIGV2ZW50T2JqID0gcGFyc2VFdmVudFN0cihldmVudFN0cilcblxuICAgICMgUHJldmVudCBkZWZhdWx0ICYgYnViYmxpbmcgZm9yIGNsaWNrIGFuZCBzdWJtaXRcbiAgICBmbnggPSAoZXZlbnQpIC0+XG4gICAgICBmbiBldmVudFxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAjIG9yIGp1c3QgcHJldmVudCBkZWZhdWx0PyBpZiAoICEgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgIyBET00gZXZlbnQgJ2V2ZW50IHNlbGVjdG9yJywgZS5nLiAnY2xpY2sgYnV0dG9uJ1xuICAgIGlmIGV2ZW50T2JqLnNlbGVjdG9yXG5cbiAgICAgICMgS2VlcCBjbGljayBhbmQgc3VibWl0IGNvbnRhaW5lZFxuICAgICAgaWYgZXZlbnRPYmoudHlwZSBpcyAnY2xpY2snIG9yIGV2ZW50T2JqLnR5cGUgaXMgJ3N1Ym1pdCdcbiAgICAgICAgIyBPdmVycmlkZSByb290IHNlbGVjdG9yLCBhcyBqUXVlcnkgc2VsZWN0b3JzIGNhbid0IHNlbGVjdCBzZWxmIG9iamVjdFxuICAgICAgICBpZiBldmVudE9iai5zZWxlY3RvciBpcyBST09UX1NFTEVDVE9SXG4gICAgICAgICAgQHZpZXcuJCgpLm9uIGV2ZW50T2JqLnR5cGUsIGZueFxuICAgICAgICBlbHNlIEB2aWV3LiQoKS5vbiBldmVudE9iai50eXBlLCBldmVudE9iai5zZWxlY3RvciwgZm54XG4gICAgICBlbHNlXG4gICAgICAgIGlmIGV2ZW50T2JqLnNlbGVjdG9yIGlzIFJPT1RfU0VMRUNUT1JcbiAgICAgICAgICBAdmlldy4kKCkub24gZXZlbnRPYmoudHlwZSwgZm5cbiAgICAgICAgZWxzZSBAdmlldy4kKCkub24gZXZlbnRPYmoudHlwZSwgZXZlbnRPYmouc2VsZWN0b3IsIGZuXG4gICAgZWxzZVxuICAgICAgIyBPYmplY3QgZXZlbnRcbiAgICAgICMgVE9ETzogVXNlIGV2ZW50aWZ5IGluc3RlYWQgb2YgalF1ZXJ5XG5cbiAgICAgICMgJChAX2V2ZW50cy5kYXRhKS5vbiBldmVudE9iai50eXBlLCBmblxuICAgICAgIyBDYWxsYmFjayBnZXRzIG9ubHkgZGF0YTogc2tpcCBqUXVlcnkgZXZlbnQgb2JqZWN0IGluIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAgJChAX2V2ZW50cy5kYXRhKS5vbiBldmVudE9iai50eXBlLCAoZXYsIGRhdGEuLi4pIC0+IHJldHVybiBmbiBkYXRhLi4uXG5cbiAgICByZXR1cm4gQFxuXG4gIHRyaWdnZXI6ICggZXZlbnRTdHIsIHBhcmFtcywgaW50ZXJuYWwgPSB0cnVlICkgLT5cblxuICAgIGV2ZW50T2JqID0gcGFyc2VFdmVudFN0cihldmVudFN0cilcblxuICAgICMgRE9NIGV2ZW50ICdldmVudCBzZWxlY3RvcicsIGUuZy4gJ2NsaWNrIGJ1dHRvbidcbiAgICBpZiBldmVudE9iai5zZWxlY3RvclxuXG4gICAgICAjIE92ZXJyaWRlIHJvb3Qgc2VsZWN0b3IsIGFzIGpRdWVyeSBzZWxlY3RvcnMgY2FuJ3Qgc2VsZWN0IHNlbGYgb2JqZWN0XG4gICAgICBpZiBldmVudE9iai5zZWxlY3RvciA9PSBST09UX1NFTEVDVE9SXG4gICAgICAgIEB2aWV3LiQoKS50cmlnZ2VyIGV2ZW50T2JqLnR5cGUsIHBhcmFtc1xuICAgICAgZWxzZVxuICAgICAgICBAdmlldy4kKCkuZmluZChldmVudE9iai5zZWxlY3RvcikudHJpZ2dlciBldmVudE9iai50eXBlLCBwYXJhbXNcblxuICAgIGVsc2VcbiAgICAgICMgT2JqZWN0IGV2ZW50XG4gICAgICAjIFRPRE86IFVzZSBldmVudGlmeSBpbnN0ZWFkIG9mIGpRdWVyeVxuXG4gICAgICBpZiBpbnRlcm5hbCB0aGVuICQoQF9ldmVudHMuZGF0YSkudHJpZ2dlciAnXycgKyBldmVudE9iai50eXBlLCBwYXJhbXNcblxuICAgICAgIyBmaXJlICdwcmUnIGhvb2tzIGluIHJldmVyc2UgYXR0YWNobWVudCBvcmRlciAoIGxhc3QgZmlyc3QgKSB0aGVuIHB1dCB0aGVtIGJhY2tcbiAgICAgIHJldmVyc2VFdmVudHMgQF9ldmVudHMuZGF0YSwgJ3ByZTonICsgZXZlbnRPYmoudHlwZVxuICAgICAgJChAX2V2ZW50cy5kYXRhKS50cmlnZ2VyICdwcmU6JyArIGV2ZW50T2JqLnR5cGUsIHBhcmFtc1xuICAgICAgcmV2ZXJzZUV2ZW50cyBAX2V2ZW50cy5kYXRhLCAncHJlOicgKyBldmVudE9iai50eXBlXG5cbiAgICAgICQoQF9ldmVudHMuZGF0YSkudHJpZ2dlciBldmVudE9iai50eXBlLCBwYXJhbXNcblxuICAgICAgIyBUcmlnZ2VyIGV2ZW50IGZvciBwYXJlbnRcbiAgICAgIGlmIEBwYXJlbnQoKVxuICAgICAgICBpZiBldmVudE9iai50eXBlLm1hdGNoKC9eY2hpbGQ6LykgdGhlbiBwcmVmaXggPSAnJ1xuICAgICAgICBlbHNlIHByZWZpeCA9ICdjaGlsZDonXG4gICAgICAgIEBwYXJlbnQoKS50cmlnZ2VyIHByZWZpeCtldmVudE9iai50eXBlLCBwYXJhbXNcblxuICAgICAgJChAX2V2ZW50cy5kYXRhKS50cmlnZ2VyICdwb3N0OicgKyBldmVudE9iai50eXBlLCBwYXJhbXNcblxuICAgIHJldHVybiBAXG4iLCIjIyMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiNcbiMgRXh0ZW5kZWQgc2hvcnRjdXRzIGZvciBhZmluaXR5IG9iamVjdFxuI1xuIyBnZXQsIHNldCwgaW52YWxpZCwgcmVwbGFjZSwgY2hpbGQsIGNoaWxkcmVuLCBsb2FkLCBjcmVhdGUsIHJlZ2lzdGVyXG4jXG4jIyNcblxuIyB1c2luZyAkLmlzQXJyYXksIGVhY2gsIGV4dGVuZFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbm1vZHVsZS5leHBvcnRzID1cblxuICBnZXQ6ICggYXJnICkgLT4gQG1vZGVsLmdldCBhcmdcblxuICBzZXQ6ICggYXJnLCBwYXJhbXMsIHRoaXJkICkgLT4gQG1vZGVsLnNldCBhcmcsIHBhcmFtcywgdGhpcmRcblxuICBzaWxlbnRTZXQ6ICggYXJnICkgLT4gQG1vZGVsLnNldCBhcmcsIHNpbGVudDp0cnVlXG5cbiAgcmVzZXQ6ICggYXJnICkgLT4gQG1vZGVsLnJlc2V0IGFyZ1xuXG4gIGludmFsaWQ6IC0+IEBtb2RlbC5pbnZhbGlkKClcblxuICBjaGlsZDogKG4pIC0+XG4gICAgaSA9IDBcbiAgICBuID0gbiBvciAwXG4gICAgZm9yIGogb2YgQF9jb250YWluZXIuY2hpbGRyZW5cbiAgICAgIGlmIEBfY29udGFpbmVyLmNoaWxkcmVuLmhhc093blByb3BlcnR5KGopXG4gICAgICAgIGlmIGkgPT0gblxuICAgICAgICAgIHJldHVybiBAX2NvbnRhaW5lci5jaGlsZHJlbltqXVxuICAgICAgICBlbHNlIGlmIGkgPiBuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIGkrK1xuICAgICAgICAjIENvbnRpbnVlIHNlYXJjaGluZ1xuICAgIGZhbHNlXG5cbiAgIyB7IGlkOiBjaGlsZCwgLi4gfVxuICBjaGlsZHJlbjogLT4gQF9jb250YWluZXIuY2hpbGRyZW5cblxuICByZXBsYWNlOiAob2JqLCBzZWxlY3RvcikgLT5cblxuICAgIGlmIHR5cGVvZiBvYmogaXMgJ3N0cmluZycgYW5kIHR5cGVvZiBzZWxlY3RvciBpcyAnb2JqZWN0J1xuICAgICAgIyBzd2l0Y2ggYXJnczogc2VsZWN0b3IsIG9ialxuICAgICAgdG1wID0gb2JqOyBvYmogPSBzZWxlY3Rvcjsgc2VsZWN0b3IgPSB0bXBcblxuICAgIGlmIHR5cGVvZiBzZWxlY3RvciBpcyAnc3RyaW5nJyB0aGVuIEB2aWV3LiQoc2VsZWN0b3IpLmh0bWwgJydcbiAgICBAZW1wdHkoKS5fY29udGFpbmVyLmFwcGVuZC5hcHBseSBALCBhcmd1bWVudHNcbiAgICByZXR1cm4gQFxuXG4gICMgTG9hZCBtb2RlbHMgYXMgY2hpbGRyZW4gZnJvbSB0aGUgdG9wXG4gIGxvYWQ6IChwcm90bywgbW9kZWxzLCBzZWxlY3RvcikgLT5cblxuICAgIGlmIHR5cGVvZiBwcm90byBpcyAnc3RyaW5nJyBhbmQgdHlwZW9mIHNlbGVjdG9yIGlzICdvYmplY3QnXG4gICAgICAjIHN3aXRjaCBhcmdzOiBzZWxlY3RvciwgcHJvdG8sIG1vZGVsc1xuICAgICAgdG1wID0gJC5leHRlbmQge30sIG1vZGVsc1xuICAgICAgbW9kZWxzID0gc2VsZWN0b3JcbiAgICAgIHNlbGVjdG9yID0gcHJvdG9cbiAgICAgIHByb3RvID0gdG1wXG5cbiAgICBtYXhNb2RlbHMgPSBtb2RlbHMubGVuZ3RoXG4gICAgbWF4Q2hpbGRyZW4gPSBAc2l6ZSgpXG4gICAgaWYgISQuaXNBcnJheShtb2RlbHMpXG4gICAgICBtb2RlbHMgPSBbIG1vZGVscyBdXG4gICAgJC5lYWNoIG1vZGVscywgKGluZGV4LCBtb2RlbCkgPT5cbiAgICAgIGlmIEBjaGlsZChpbmRleClcbiAgICAgICAgQGNoaWxkKGluZGV4KS5tb2RlbC5zZXQgbW9kZWxcbiAgICAgIGVsc2VcblxuICAgICAgICAjICoqKiBOZWVkIHJlZmVyZW5jZSB0byBhZmluaXR5ISAqKipcblxuICAgICAgICBAYXBwZW5kIGFmaW5pdHkocHJvdG8sIG1vZGVsKSwgc2VsZWN0b3JcbiAgICAgIHJldHVyblxuXG4gICAgIyBkZXN0cm95IHRoZSByZXN0XG4gICAgaWYgbWF4Q2hpbGRyZW4gPiBtYXhNb2RlbHNcbiAgICAgIGkgPSBtYXhNb2RlbHNcbiAgICAgIHdoaWxlIGkgPCBtYXhDaGlsZHJlblxuICAgICAgICAjIENoaWxkJ3MgaW5kZXggc3RheXMgdGhlIHNhbWUsIHNpbmNlIGVhY2ggb25lIGlzIGRlc3Ryb3llZFxuICAgICAgICBAY2hpbGQobWF4TW9kZWxzKS5kZXN0cm95KClcbiAgICAgICAgaSsrXG4gICAgcmV0dXJuIEBcbiIsIiMjIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuI1xuIyBGb3JtIGhlbHBlcnNcbiNcbiMjI1xuXG4jIFVzaW5nOiBET00gbWV0aG9kcyAtIGF0dHIsIHZhbCwgZmluZFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbnJlcXVpcmUgJy4uL3V0aWwvanF1ZXJ5LnV0aWwnXG5cbm1vZHVsZS5leHBvcnRzID0gZm9ybTpcblxuICBjbGVhcjogLT5cblxuICAgIGNoZWNrZWRSYWRpbyA9IFtdXG5cbiAgICAjIENsZWFyIGFsbCBpbnB1dHNcbiAgICBAJHZpZXcuZmluZCgnOmlucHV0LCB0ZXh0YXJlYScpXG4gICAgICAubm90KCc6YnV0dG9uLCA6c3VibWl0LCA6cmVzZXQsIDpoaWRkZW4nKVxuICAgICAgLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKVxuICAgICAgLnJlbW92ZUF0dHIoJ3NlbGVjdGVkJylcbiAgICAgIC5ub3QoJzpjaGVja2JveCwgOnJhZGlvLCBzZWxlY3QnKVxuICAgICAgLnZhbCAnJ1xuXG4gICAgIyBDaGVjayBmaXJzdCByYWRpbyBvZiBncm91cFxuICAgIEAkdmlldy5maW5kKCc6cmFkaW8nKS5lYWNoIChpLCBlbCkgPT5cbiAgICAgICRlbCA9ICQoZWwpXG4gICAgICBuYW1lID0gJGVsLmF0dHIoJ25hbWUnKVxuICAgICAgdmFsID0gJGVsLnZhbCgpXG4gICAgICBpZiBjaGVja2VkUmFkaW8uaW5kZXhPZihuYW1lKSA8IDBcbiAgICAgICAgY2hlY2tlZFJhZGlvLnB1c2ggbmFtZVxuICAgICAgICAkZWwuYXR0ciAnY2hlY2tlZCcsICdjaGVja2VkJ1xuICAgICAgICAjIFNldCBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICBAc2V0IG5hbWUsIHZhbFxuICAgICAgcmV0dXJuXG5cbiAgICByZXR1cm4gQCR2aWV3XG5cbiAgaW52YWxpZDogLT4gQG1vZGVsLmludmFsaWQoKVxuXG4gIHRvT2JqZWN0OiAtPiBAJHZpZXcuc2VyaWFsaXplT2JqZWN0KClcblxuICB0b0pTT046IC0+XG4gICAgb2JqID0gQCR2aWV3LnNlcmlhbGl6ZU9iamVjdCgpXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5IG9ialxuIiwiIyMjLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jXG4jIENvbnN0cnVjdCBkZWZhdWx0IG9iamVjdCBwcm90b3R5cGVcbiNcbiMjI1xuXG4jIFVzaW5nOiAkLmV4dGVuZFxuJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbmRlZmF1bHRQcm90b3R5cGUgPVxuICBfYWZpbml0eTogdHJ1ZVxuICBfY29udGFpbmVyOiByZXF1aXJlKCcuL2NvbnRhaW5lcicpXG4gIF9ldmVudHM6IHJlcXVpcmUoJy4vZXZlbnRzJylcbiAgJG5vZGU6IHt9XG4gIGtleToge31cbiAgcmVxdWlyZWQ6IHt9XG4gIG1vZGVsOiByZXF1aXJlKCcuLi9tdmMvbW9kZWwnKVxuICB2aWV3OiByZXF1aXJlKCcuLi9tdmMvdmlldycpXG4gIGNvbnRyb2xsZXI6IHJlcXVpcmUoJy4uL212Yy9jb250cm9sbGVyJylcblxuc2hvcnRjdXRzID0gcmVxdWlyZSgnLi9zaG9ydGN1dHMnKVxuZXh0ZW5kID0gcmVxdWlyZSgnLi9leHRlbmQnKVxuZm9ybSA9IHJlcXVpcmUoJy4vZm9ybScpXG5cbm1vZHVsZS5leHBvcnRzID0gJC5leHRlbmQoZGVmYXVsdFByb3RvdHlwZSwgc2hvcnRjdXRzLCBleHRlbmQsIGZvcm0pXG4iLCIjIyMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiNcbiMgT2JqZWN0IHNob3J0Y3V0c1xuI1xuIyMjXG5cbm1vZHVsZS5leHBvcnRzID1cbiAgZGVzdHJveTogLT5cbiAgICBAdHJpZ2dlciAnZGVzdHJveScsIEBfaWRcbiAgICAjIHBhcmVudCBtdXN0IGxpc3RlbiB0byAncmVtb3ZlJyBldmVudCBhbmQgaGFuZGxlIGNvbnRhaW5lciByZW1vdmFsXG4gICAgIyBjYW4ndCByZXR1cm4gdGhpcyBhcyBpdCBtaWdodCBub3QgZXhpc3QgYW55bW9yZVxuICAgIHJldHVyblxuICBwYXJlbnQ6IC0+XG4gICAgQF9wYXJlbnRcbiAgYXBwZW5kOiAtPlxuICAgIEBfY29udGFpbmVyLmFwcGVuZC5hcHBseSB0aGlzLCBhcmd1bWVudHNcbiAgICByZXR1cm4gQFxuICBwcmVwZW5kOiAtPlxuICAgIEBfY29udGFpbmVyLnByZXBlbmQuYXBwbHkgdGhpcywgYXJndW1lbnRzXG4gICAgcmV0dXJuIEBcbiAgYWZ0ZXI6IC0+XG4gICAgQF9jb250YWluZXIuYWZ0ZXIuYXBwbHkgdGhpcywgYXJndW1lbnRzXG4gICAgcmV0dXJuIEBcbiAgYmVmb3JlOiAtPlxuICAgIEBfY29udGFpbmVyLmJlZm9yZS5hcHBseSB0aGlzLCBhcmd1bWVudHNcbiAgICByZXR1cm4gQFxuICByZW1vdmU6IC0+XG4gICAgQF9jb250YWluZXIucmVtb3ZlLmFwcGx5IHRoaXMsIGFyZ3VtZW50c1xuICAgIHJldHVybiBAXG4gIHNpemU6IC0+XG4gICAgQF9jb250YWluZXIuc2l6ZS5hcHBseSB0aGlzLCBhcmd1bWVudHNcbiAgZWFjaDogLT5cbiAgICBAX2NvbnRhaW5lci5lYWNoLmFwcGx5IHRoaXMsIGFyZ3VtZW50c1xuICBlbXB0eTogLT5cbiAgICBAX2NvbnRhaW5lci5lbXB0eS5hcHBseSB0aGlzLCBhcmd1bWVudHNcbiAgYmluZDogLT5cbiAgICBAX2V2ZW50cy5iaW5kLmFwcGx5IHRoaXMsIGFyZ3VtZW50c1xuICAgIHJldHVybiBAXG4gIG9uOiAtPlxuICAgIEBfZXZlbnRzLmJpbmQuYXBwbHkgdGhpcywgYXJndW1lbnRzXG4gICAgcmV0dXJuIEBcbiAgdHJpZ2dlcjogLT5cbiAgICBAX2V2ZW50cy50cmlnZ2VyLmFwcGx5IHRoaXMsIGFyZ3VtZW50c1xuICAgIHJldHVybiBAXG4iLCIjIyNcbiNcbiMgdXRpbC4qXG4jXG4jIGlzQWZpbml0eVxuIyBzaXplXG4jIHByb3h5QWxsXG4jIGV4dGVuZENvbnRyb2xsZXJcbiNcbiMjI1xuXG4jIFVzaW5nOiAkLnByb3h5XG4kID0gcmVxdWlyZSAnanF1ZXJ5J1xudXRpbCA9IHt9XG5cbiMgQ2hlY2tzIGlmIHByb3ZpZGVkIG9iaiBpcyBhbiBhZmluaXR5IG9iamVjdFxudXRpbC5pc0FmaW5pdHkgPSAob2JqKSAtPlxuICBpZiBub3Qgb2JqPyBvciB0eXBlb2Ygb2JqIGlzbnQgJ29iamVjdCcgdGhlbiByZXR1cm4gZmFsc2VcbiAgZWxzZSByZXR1cm4gb2JqLl9hZmluaXR5ID09IHRydWVcblxuIyBEZXRlcm1pbmVzICMgb2YgYXR0cmlidXRlcyBvZiBnaXZlbiBvYmplY3QgKHByb3RvdHlwZSBpbmNsdXNpdmUpXG51dGlsLnNpemUgPSAob2JqKSAtPlxuICBzaXplID0gMFxuICBmb3Iga2V5IG9mIG9ialxuICAgIHNpemUrK1xuICByZXR1cm4gc2l6ZVxuXG4jIFNjYW5zIG9iamVjdCBmb3IgZnVuY3Rpb25zIChkZXB0aD0yKSBhbmQgcHJveGllcyB0aGVpciAndGhpcycgdG8gZGVzdC5cbiMgKiBUbyBlbnN1cmUgaXQgd29ya3Mgd2l0aCBwcmV2aW91c2x5IHByb3hpZWQgb2JqZWN0cywgd2Ugc2F2ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYXNcbiMgICBhICcuX3ByZVByb3h5JyBtZXRob2QgYW5kIHdoZW4gYXZhaWxhYmxlIGFsd2F5cyB1c2UgdGhhdCBhcyB0aGUgcHJveHkgc291cmNlLlxuIyAqIFRvIHNraXAgYSBnaXZlbiBtZXRob2QsIGNyZWF0ZSBhIHN1Yi1tZXRob2QgY2FsbGVkICdfbm9Qcm94eScuXG5cbnV0aWwucHJveHlBbGwgPSAoIG9iaiwgZGVzdCApIC0+XG5cbiAgaWYgIW9iaiBvciAhZGVzdFxuICAgIHRocm93IG5ldyBFcnJvciAnYWZpbml0eS5qczogdXRpbC5wcm94eUFsbCBuZWVkcyB0d28gYXJndW1lbnRzJ1xuXG4gIGZvciBhdHRyMSBvZiBvYmpcbiAgICBwcm94aWVkID0gb2JqW2F0dHIxXVxuICAgICMgUHJveHkgcm9vdCBtZXRob2RzXG4gICAgaWYgdHlwZW9mIG9ialthdHRyMV0gPT0gJ2Z1bmN0aW9uJ1xuICAgICAgcHJveGllZCA9IGlmIG9ialthdHRyMV0uX25vUHJveHkgdGhlbiBvYmpbYXR0cjFdIGVsc2UgJC5wcm94eShvYmpbYXR0cjFdLl9wcmVQcm94eSBvciBvYmpbYXR0cjFdLCBkZXN0KVxuICAgICAgcHJveGllZC5fcHJlUHJveHkgPSBpZiBvYmpbYXR0cjFdLl9ub1Byb3h5IHRoZW4gdW5kZWZpbmVkIGVsc2Ugb2JqW2F0dHIxXS5fcHJlUHJveHkgb3Igb2JqW2F0dHIxXVxuICAgICAgIyBzYXZlIG9yaWdpbmFsXG4gICAgICBvYmpbYXR0cjFdID0gcHJveGllZFxuICAgIGVsc2UgaWYgdHlwZW9mIG9ialthdHRyMV0gPT0gJ29iamVjdCdcbiAgICAgICMgZG9uJ3QgcHJveHkgalF1ZXJ5IG9yIGFmaW5pdHkgb2JqZWN0XG4gICAgICBpZiBvYmpbYXR0cjFdIGluc3RhbmNlb2YgalF1ZXJ5IG9yIHV0aWwuaXNBZmluaXR5IG9ialthdHRyMV1cbiAgICAgICAgY29udGludWVcbiAgICAgIGZvciBhdHRyMiBvZiBvYmpbYXR0cjFdXG4gICAgICAgIHByb3hpZWQyID0gb2JqW2F0dHIxXVthdHRyMl1cbiAgICAgICAgaWYgdHlwZW9mIG9ialthdHRyMV1bYXR0cjJdID09ICdmdW5jdGlvbidcbiAgICAgICAgICBwcm94aWVkMiA9IGlmIG9ialthdHRyMV1bYXR0cjJdLl9ub1Byb3h5IHRoZW4gb2JqW2F0dHIxXVthdHRyMl0gZWxzZSAkLnByb3h5KG9ialthdHRyMV1bYXR0cjJdLl9wcmVQcm94eSBvciBvYmpbYXR0cjFdW2F0dHIyXSwgZGVzdClcbiAgICAgICAgICBwcm94aWVkMi5fcHJlUHJveHkgPSBpZiBvYmpbYXR0cjFdW2F0dHIyXS5fbm9Qcm94eSB0aGVuIHVuZGVmaW5lZCBlbHNlIG9ialthdHRyMV1bYXR0cjJdLl9wcmVQcm94eSBvciBvYmpbYXR0cjFdW2F0dHIyXVxuICAgICAgICAgICMgc2F2ZSBvcmlnaW5hbFxuICAgICAgICAgIHByb3hpZWRbYXR0cjJdID0gcHJveGllZDJcbiAgICAgICMgZm9yIGF0dHIyXG4gICAgICBvYmpbYXR0cjFdID0gcHJveGllZFxuICAgICMgaWYgbm90IGZ1bmNcbiAgIyBmb3IgYXR0cjFcbiAgcmV0dXJuXG5cbiMgRmluZCBjb250cm9sbGVycyB0byBiZSBleHRlbmRlZCAod2l0aCBzeW50YXggJ34nKSxcbiMgcmVkZWZpbmUgdGhvc2UgdG8gZW5jb21wYXNzIHByZXZpb3VzbHkgZGVmaW5lZCBjb250cm9sbGVyc1xuIyBFeGFtcGxlOlxuIyAgIHZhciBhID0gJCQoe30sICc8YnV0dG9uPkE8L2J1dHRvbj4nLCB7J2NsaWNrICYnOiBmdW5jdGlvbigpeyBhbGVydCgnQScpOyB9fSk7XG4jICAgdmFyIGIgPSAkJChhLCB7fSwgJzxidXR0b24+QjwvYnV0dG9uPicsIHsnfmNsaWNrICYnOiBmdW5jdGlvbigpeyBhbGVydCgnQicpOyB9fSk7XG4jIENsaWNraW5nIG9uIGJ1dHRvbiBCIHdpbGwgYWxlcnQgYm90aCAnQScgYW5kICdCJy5cblxudXRpbC5leHRlbmRDb250cm9sbGVyID0gKG9iamVjdCkgLT5cbiAgZm9yIGNvbnRyb2xsZXJOYW1lIG9mIG9iamVjdC5jb250cm9sbGVyXG4gICAgIyBuZXcgc2NvcGUgYXMgd2UgbmVlZCBvbmUgbmV3IGZ1bmN0aW9uIGhhbmRsZXIgcGVyIGNvbnRyb2xsZXJcbiAgICBkbyAtPlxuICAgICAgaWYgdHlwZW9mIG9iamVjdC5jb250cm9sbGVyW2NvbnRyb2xsZXJOYW1lXSA9PSAnZnVuY3Rpb24nXG4gICAgICAgIG1hdGNoZXMgPSBjb250cm9sbGVyTmFtZS5tYXRjaCgvXihcXH4pKiguKykvKVxuICAgICAgICAjICdjbGljayBidXR0b24nLCAnfmNsaWNrIGJ1dHRvbicsICdfY3JlYXRlJywgZXRjXG4gICAgICAgIGV4dGVuZCA9IG1hdGNoZXNbMV1cbiAgICAgICAgZXZlbnROYW1lID0gbWF0Y2hlc1syXVxuICAgICAgICAjIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgaWYgIWV4dGVuZCB0aGVuIHJldHVyblxuXG4gICAgICAgICMgUmVkZWZpbmUgY29udHJvbGxlcjpcbiAgICAgICAgIyAnfmNsaWNrIGJ1dHRvbicgLS0tPiAnY2xpY2sgYnV0dG9uJyA9IHByZXZpb3VzSGFuZGxlciArIGN1cnJlbnRIYW5kbGVyXG4gICAgICAgIHByZXZpb3VzSGFuZGxlciA9IGlmIG9iamVjdC5jb250cm9sbGVyW2V2ZW50TmFtZV0gdGhlbiBvYmplY3QuY29udHJvbGxlcltldmVudE5hbWVdLl9wcmVQcm94eSBvciBvYmplY3QuY29udHJvbGxlcltldmVudE5hbWVdIGVsc2UgdW5kZWZpbmVkXG4gICAgICAgIGN1cnJlbnRIYW5kbGVyID0gb2JqZWN0LmNvbnRyb2xsZXJbY29udHJvbGxlck5hbWVdXG5cbiAgICAgICAgbmV3SGFuZGxlciA9IC0+XG4gICAgICAgICAgaWYgcHJldmlvdXNIYW5kbGVyXG4gICAgICAgICAgICBwcmV2aW91c0hhbmRsZXIuYXBwbHkgdGhpcywgYXJndW1lbnRzXG4gICAgICAgICAgaWYgY3VycmVudEhhbmRsZXJcbiAgICAgICAgICAgIGN1cnJlbnRIYW5kbGVyLmFwcGx5IHRoaXMsIGFyZ3VtZW50c1xuICAgICAgICAgIHJldHVyblxuXG4gICAgICAgIG9iamVjdC5jb250cm9sbGVyW2V2ZW50TmFtZV0gPSBuZXdIYW5kbGVyXG4gICAgICAgICMgZGVsZXRlICd+Y2xpY2sgYnV0dG9uJ1xuICAgICAgICBkZWxldGUgb2JqZWN0LmNvbnRyb2xsZXJbY29udHJvbGxlck5hbWVdXG4gICAgICAjIGlmIGZ1bmN0aW9uXG4gICAgICByZXR1cm5cbiAgIyBmb3IgY29udHJvbGxlck5hbWVcbiAgcmV0dXJuXG5cbm1vZHVsZS5leHBvcnRzID0gdXRpbFxuIiwiIyMjXG4jXG4jIGpRdWVyeSB1dGlsaXR5IGZ1bmN0aW9uc1xuI1xuIyBvdXRlckhUTUwsIGlzRW1wdHksIGlzRW1haWwsIHNlcmlhbGl6ZU9iamVjdFxuI1xuIyBUT0RPOiBNYWtlIHRoZXNlIGludGVybmFsIC0gZG9uJ3QgYXR0YWNoIG9uICRcbiNcbiMjI1xuXG4kID0gcmVxdWlyZSgnanF1ZXJ5JylcblxuIyBHZXQgZWxlbWVudCBpbmNsdWRpbmcgd3JhcHBpbmcgdGFnXG4kLmZuLm91dGVySFRNTCA9IChzKSAtPlxuICBpZiBzXG4gICAgQGJlZm9yZShzKS5yZW1vdmUoKVxuICBlbHNlXG4gICAgZG9jID0gaWYgQFswXSB0aGVuIEBbMF0ub3duZXJEb2N1bWVudCBlbHNlIGRvY3VtZW50XG4gICAgalF1ZXJ5KCc8ZGl2PicsIGRvYykuYXBwZW5kKEBlcSgwKS5jbG9uZSgpKS5odG1sKClcblxuIyBHZW5lcmljIGlzRW1wdHlcblxuJC5pc0VtcHR5ID0gKG1peGVkX3ZhcikgLT5cbiAgIyBFbXB0eTogbnVsbCwgdW5kZWZpbmVkLCAnJywgW10sIHt9XG4gICMgTm90IGVtcHR5OiAwLCB0cnVlLCBmYWxzZVxuICB1bmRlZiA9IHVuZGVmaW5lZFxuICBrZXkgPSB1bmRlZmluZWRcbiAgaSA9IHVuZGVmaW5lZFxuICBsZW4gPSB1bmRlZmluZWRcbiAgZW1wdHlWYWx1ZXMgPSBbXG4gICAgdW5kZWZcbiAgICBudWxsXG4gICAgJydcbiAgXVxuICBpID0gMFxuICBsZW4gPSBlbXB0eVZhbHVlcy5sZW5ndGhcbiAgd2hpbGUgaSA8IGxlblxuICAgIGlmIG1peGVkX3ZhciBpcyBlbXB0eVZhbHVlc1tpXSB0aGVuIHJldHVybiB0cnVlXG4gICAgaSsrXG5cbiAgaWYgdHlwZW9mIG1peGVkX3ZhciBpcyAnb2JqZWN0J1xuICAgIGZvciBrZXkgb2YgbWl4ZWRfdmFyXG4gICAgICBpZiBtaXhlZF92YXIuaGFzT3duUHJvcGVydHkoa2V5KSB0aGVuIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG5cbiAgcmV0dXJuIGZhbHNlXG5cbiMgVmFsaWRhdGUgZS1tYWlsXG5cbiQuaXNFbWFpbCA9IChlbWFpbCkgLT5cbiAgaWYgJC5pc0VtcHR5KGVtYWlsKVxuICAgIHJldHVybiBmYWxzZVxuICByZWdleCA9IC9eKFthLXpBLVowLTlfListXSkrXFxAKChbYS16QS1aMC05LV0pK1xcLikrKFthLXpBLVowLTldezIsNH0pKyQvXG4gIHJlZ2V4LnRlc3QgZW1haWxcblxuIyBTZXJpYWxpemUgZm9ybVxuXG4kLmZuLnNlcmlhbGl6ZU9iamVjdCA9IC0+XG4gIGRhdGEgPSB7fVxuICBhY3RpdmUgPVxuICAgIGRhdGVwaWNrZXI6IHR5cGVvZiAkLnBpa2FkYXkgIT0gJ3VuZGVmaW5lZCdcbiAgICB0aW1lcGlja2VyOiB0eXBlb2YgJC50aW1lcGlja2VyICE9ICd1bmRlZmluZWQnXG5cbiAgQGZpbmQoJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhJykuZWFjaCAtPlxuICAgICRlbCA9ICQodGhpcylcbiAgICB0eXBlID0gJGVsLmF0dHIoJ3R5cGUnKVxuICAgIG5hbWUgPSAkZWwuYXR0cignbmFtZScpXG4gICAgdmFsID0gJGVsLnZhbCgpXG4gICAgaWYgbmFtZT9cbiAgICAgICMgQ2hlY2tib3g6IGlmIG11bHRpcGxlLCBjcmVhdGUgYXJyYXkgb2YgdmFsdWVzXG4gICAgICBpZiB0eXBlIGlzICdjaGVja2JveCdcbiAgICAgICAgaWYgISRlbC5wcm9wKCdjaGVja2VkJykgdGhlbiB2YWwgPSAnJ1xuICAgICAgICAjIENyZWF0ZSBhbiBhcnJheSBvZiBjaGVja2JveCB2YWx1ZXNcbiAgICAgICAgaWYgdHlwZW9mIGRhdGFbbmFtZV0gPT0gJ3VuZGVmaW5lZCcgdGhlbiBkYXRhW25hbWVdID0gdmFsXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAjIFNpbmdsZSBvbmUgYSBzdHJpbmdcbiAgICAgICAgICBpZiB0eXBlb2YgZGF0YVtuYW1lXSA9PSAnc3RyaW5nJyB0aGVuIGRhdGFbbmFtZV0gPSBbIGRhdGFbbmFtZV0gXVxuICAgICAgICAgICMgUHV0IGZpcnN0IGVsZW1lbnQgaW4gYW4gYXJyYXlcbiAgICAgICAgICBkYXRhW25hbWVdLnB1c2ggdmFsXG4gICAgICBlbHNlXG4gICAgICAgICMgRGF0ZXBpY2tlclxuICAgICAgICBpZiBhY3RpdmUuZGF0ZXBpY2tlciBhbmQgJGVsLmhhc0NsYXNzKCdkYXRlcGlja2VyJykgdGhlbiB2YWwgPSAkZWwucGlrYWRheSgnZ2V0RGF0ZScpXG4gICAgICAgICMgVGltZXBpY2tlciAtPiBhcHBlbmRlZCBzZWxlY3QgZWxlbWVudFxuICAgICAgICBlbHNlIGlmIGFjdGl2ZS50aW1lcGlja2VyIGFuZCAkZWwuaGFzQ2xhc3MoJ3RpbWVwaWNrZXInKSB0aGVuIHZhbCA9ICRlbC5uZXh0KCkudmFsKClcbiAgICAgICAgZGF0YVtuYW1lXSA9IHZhbFxuICAgIHJldHVyblxuICAjIEVuZDogZWFjaCBmaWVsZFxuXG4gIHJldHVybiBkYXRhXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=